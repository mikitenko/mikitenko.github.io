//==R8 JS Platform Built: 2020-07-21T23:37:50-0400 ==//

//==r8.js==//
(function(){var M,Y;function xa(a){a=a.requestTag;return y&&a&&Z==a?y+"#"+R8.toBase64((new Date).getTime()-R8.getLoadedAt()+(G?G:0)):""}function ya(a,b){var c=a.method,d="undefined"!==a.withCredentials?a.withCredentials:!0,f=new XMLHttpRequest;if("withCredentials"in f)f.open(c,b,!0),d&&(f.withCredentials=!0);else if(void 0!=window.XDomainRequest){R8.debug("XDomainRequest");f=new XDomainRequest;try{f.open(c,b)}catch(g){R8.debug("Connection Issue: "+g),f=null}}else R8.debug("No Support For XMLHttpRequest"),
f=null;return f}function za(a){R8.retryExpired({originalRequest:a.originalRequest},function(a,c){c.originalRequest.isRetry=!0;R8.sendRequest(c.originalRequest)})}function ma(a,b,c,d){this.url=a;this.stack=b;this.caller=c;this.completed=d;this.callback=function(a){this.response=a;this.caller&&this.caller(this);this.stack.count--;0==this.stack.count&&this.completed&&this.completed()}.bind(this);null==this.url&&this.callback({success:!1})}function na(a,b){b.geo_info={postal_code:a.postal_code,city:a.city,
continent_code:a.continent_code,country_code:a.country_code,region_code:a.region_code};var c=a.geo_point;a.geo_distance&&a.geo_distance.origin_geo_point?c=a.geo_distance.origin_geo_point:a.ip_info&&a.ip_info.geo_point&&(c=a.ip_info.geo_point);c&&(b.geo_point={lat:c.lat,lng:c.lng});var d=[];a.boundaries&&R8.each(a.boundaries,function(a,b){var c=a.geo_id;c&&d.push(c)});a.geo_id&&d.push(a.geo_id);b.geo_info.geo_ids=d}function Aa(a,b){this.index=0;this.strategy=a;this.user_options=b;this.running=this.continuenow=
!0;R8.PubSub.publishAsync({name:R8.PS.R8_GEOLOCATION_STARTED});this.next=function(b){if(this.continuenow)if(b)this.running=this.continuenow=!1;else if(this.index<a.length)if(b=this.strategy[this.index],R8.debug("GeoStrategyContext["+b+"]"),oa=b,this.index++,u[b+"_geo"])u[b+"_geo"](this);else this.next(!1);else this.user_options.callback({success:!1,error:"no geo location found"})}}function H(a){a=a||{};var b=a.geo_info,c=a.geo_point,d=a.callback,f=a.gs,g=a.geo_ctx;a=R8.hasValue(a.should_cache)?a.should_cache:
!0;g=R8.hasValue(g.user_options.persist)?g.user_options.persist:!0;c?(R8.debug("[GEO COMPLETE] persisting["+g+"]"),g?R8.setGeoLocation({geo_point:c,geo_info:b,gs:f,should_cache:a,callback:function(){d&&d({success:!0,geo_info:b,lat:c.lat,lng:c.lng,geo_point:c,geo_source:f});R8.PubSub.publishAsync({name:R8.PS.R8_GEOLOCATION_ENDED,success:!0,geo_info:b,geo_point:c,geo_source:f})}}):(d&&d({success:!0,geo_info:b,lat:c.lat,lng:c.lng,geo_point:c,geo_source:f}),R8.PubSub.publishAsync({name:R8.PS.R8_GEOLOCATION_ENDED,
success:!0,geo_info:b,geo_point:c,geo_source:f}))):(d&&d({success:!1,error:"no geo point found"}),R8.PubSub.publishAsync({name:R8.PS.R8_GEOLOCATION_ENDED,success:!1}))}function Ba(a){a=a||{};var b=null,c=a.callback;a=R8.hasValue(a.refresh)?a.refresh:!1;try{b=R8.deviceStorage.getData({key:"gi"})}catch(d){b=null}if((null==b||a)&&m)R8.sendRequest({url:"/api/v1/geo/locations?search_accuracy\x3dHIGH\x26lat\x3d"+m.lat+"\x26lng\x3d"+m.lng,method:"GET",callback:function(a){if(a.success&&(a=a.data.results,
0<a.length)){a=a[0];b={postal_code:a.postal_code,city:a.city,continent_code:a.continent_code,country_code:a.country_code,region_code:a.region_code};var f=[];a.boundaries&&R8.each(a.boundaries,function(a,b){var c=a.geo_id;c&&f.push(c)});a.geo_id&&f.push(a.geo_id);b.geo_ids=f;R8.setGeoInfo(b);c&&c(b)}}});else return b&&R8.debug("[Geo Info] Skipping Already Cached",b),b||(b={}),c&&c(b),b}function I(){this.__dataset={}}function pa(a,b,c){try{if(void 0!=c)if(a.parentNode&&null!=a.parentNode)a=a.parentNode;
else return!1;return void 0==a||null==a?!1:b(a)?pa(a,b,a):!0}catch(d){console.error(d)}}function Ca(a){return Array.prototype.slice.call(a)}function qa(){}function N(a){M=0;Y=(new Date).getTime()}function O(a){M++}function Da(){var a=!1;try{var b=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("checkPassiveEvent",null,b);window.removeEventListener("checkPassiveEvent",null,b)}catch(c){}return a}function P(a){for(var b=0,c=null;b<J.length;)a==J[b].target&&(c=J[b],
c.target.removeEventListener(c.name,c.handler),J.splice(b,1)),b++}function Q(a){J.push(a)}function r(){this._sharedData={};this._queueCaptures=[];this._callbacks=[]}function v(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}function aa(a){this.lat=a.lat;this.lng=a.lng;this.toString=function(){return JSON.stringify(this)}}function ra(a){var b;return"#document"==a.nodeName?(a=document.documentElement,b=document.body,(a.scrollTop||b.scrollTop)/((a.scrollHeight||b.scrollHeight)-
a.clientHeight)*100):a.scrollTop/(a.scrollHeight-a.clientHeight)*100}function Ea(a){a=a||{};var b=a.targetWindow,c=a.targetOrigin,d=a.eventCallback,f=a.message,g=a.eventId;f.r8_message_name=a.name;f.r8_event_id=g;if(!b||!c||!f)throw"[R8][PUBSUB][sendWindowMessage] failed to send message. Missing (targetWindow | targetOrigin | message) Parameters.";d&&(D[g]=a);try{R8.debug("[PubSub][Window][Publish Event] ["+a.name+"] [eventId:"+g+"] [callback:"+d+"] "+JSON.stringify(f)),b.postMessage(JSON.stringify(f),
c)}catch(h){console.log("[R8][PUBSUB][sendWindowMessage] failed to send message."+h)}}function Fa(a){try{var b=a.data;if("string"===typeof b&&-1<b.indexOf("r8_message_name")){var c=R8.toObject(b),d=c.r8_event_id,f=c.r8_message_name;R8.debug("[PubSub][Window][Receiving Event] ["+f+"] "+b);delete c.r8_event_id;delete c.r8_message_name;a={name:f,message:c,eventId:d};if(d){var g=D[d];g&&(delete D[d],R8.debug("[PubSub][Window][Callback] [eventId:"+d+"] ["+f+"] "+JSON.stringify(c)),g.respondWith({response:c}))}R8.PubSub.publish(a)}else if("string"===
typeof b&&-1<b.indexOf("r8_message_type")){var h=a.origin||a.originalEvent.origin,c=R8.toObject(b);c.origin=h;if(message_id&&D[message_id]){try{D[r8_message_id]({message:e.message})}catch(k){console.log("[R8][sendWindowMessage] failed on callback."+k)}delete D[r8_message_id]}R8.PubSub.publish({name:c.r8_message_type,message:c})}}catch(k){console.log("[R8][PUBSUB]onWindowMessageHandler : "+b+" - "+k)}}function sa(a){a=a?a:{};if(null!=E&&!a.refresh)return E;E={};a=document.getElementsByTagName("script");
for(var b=0;b<a.length;b++){var c=a[b];if(c.src){E[c.src]=c;var d=c.src.split("/");E[d[d.length-1]]=c}}return E}function Ga(a){var b=sa();if(a.src){var c=a.src.split("/"),c=c[c.length-1];if(null!=b[a.src]&&void 0!=b[a.src]||null!=b[c]&&void 0!=b[c])return!0}return!1}function ta(a){var b=a.element,c=a.styles,d=a.scripts,f=a.targetElement,g=!1;a.success=!0;try{if(a._linkStack=0,a._scriptStack=0,f){f.innerHTML="";sa();for(var h=function(){a._linkStack--;q()},k=function(b){a._scriptStack--;q()},q=function(){if(0==
a._linkStack&&0==a._scriptStack&&a.onImportsComplete)a.onImportsComplete(a)},p=0;p<c.length;p++){var l=c[p];if(l.nativeElement)f.appendChild(l.nativeElement),delete l.nativeElement;else if(l.href){var w=document.createElement("link");w.href=l.href;w.type=l.type;w.rel=l.rel;w.onload&&(a._linkStack++,w.onload=h);f.appendChild(w);g=!0}else if(l.text){var n=document.createElement("style");n.type="text/css";n.innerHTML=l.text;f.appendChild(n)}}b&&f.appendChild(b);for(p=0;p<d.length;p++){var m=d[p];if(!R8.isBlank(m.text)){var z=
document.createElement("script");z.text=m.text;z.async=!1;f.appendChild(z)}else if(m.src)if(Ga({src:m.src}))R8.debug("SRC - SKIPPING: ",m.src);else{var A=document.createElement("script");A.src=m.src;A.async=!1;a._scriptStack++;A.attachEvent?A.attachEvent("onreadystatechange",function(){"loaded"==m.readyState&&k()}):(A.onload=k,A.onerror=k);g=!0;f.appendChild(A)}}if(!g&&a.onImportsComplete)a.onImportsComplete(a)}}catch(r){a.error=r,console.log("Issue embedHTMLByContext: "+r),a.success=!1,a.onImportsComplete(a)}}
function ba(a){a=a.targetElement.getElementsByTagName(a.type);for(var b=a.length,c=0;b--;)a[b].parentNode.removeChild(a[b]),c++;return c}function ua(a,b,c){if(R8.isBlank(a))return b;R8.Utils.endsWith(a,"/")&&(a=a.substring(0,a.length-1));R8.Utils.startsWith(b,"./")?b=a+b.substring(1,b.length):R8.Utils.startsWith(b,"https:")&&R8.Utils.startsWith(b,"http:")||(b=a+"/"+b.substring(0,b.length));c&&(b=b+(-1==b.indexOf("?")?"?":"\x26")+c);return b}function ca(){if(!da){da=!0;try{R8.each(K,function(a,b){a.check()})}catch(a){}da=
!1}}function Ha(){this.ENC_PREFIX="_r8e!";this.encode=!0;this.currentEngine=[];this.engines=[new Ia,new Ja,new Ka];var a=this;R8.each(this.engines,function(b,c){if(b.isEnabled())return a.currentEngine=b,{breakout:!0}});R8.debug("R8DeviceStorage.Engine ["+this.currentEngine.name+"]");this.toObject=function(a){if(!a)return null;try{var c=null;return c=0==a.indexOf(this.ENC_PREFIX)?R8.toObject(R8.fromBase64(a.replace(this.ENC_PREFIX,""))):R8.toObject(a)}catch(d){}return null};this.toStream=function(a){if(!a)return null;
try{var c=null;return c=this.encode?this.ENC_PREFIX+R8.toBase64(JSON.stringify(a)):JSON.stringify(a)}catch(d){}return null};this.getData=function(a){try{var c=null;return c=this.currentEngine.getData(a)}catch(d){console.log("R8Storage: "+d)}return null};this.setData=function(a){try{return this.currentEngine.setData(a),!0}catch(c){throw Error("R8Storage.setDate: "+c);}};this.removeData=function(a){this.currentEngine.removeData(a);R8.debug("R8Storage.remove ["+a.key+"]")};this.load=function(){this.currentEngine.onLoad()}}
function Ka(){this.dataset={};this.name="memory";this.isEnabled=function(){return!0};this.setData=function(a){this.dataset[a.key]=a.data};this.getData=function(a){return this.dataset[a.key]};this.removeData=function(a){delete this.dataset[a.key]};this.onLoad=function(){}}function Ia(){this.KEY_PREFIX="r8ls_";this.name="localstorage";this.createKey=function(a){return(a=a.key)&&""!=a?0==a.indexOf(this.KEY_PREFIX)?a:this.KEY_PREFIX+a:null};this.isEnabled=function(){if(void 0==window.localStorage||void 0==
window.sessionStorage)return!1;try{localStorage.setItem("r8_check","-");var a=null!=localStorage.getItem("r8_check");localStorage.removeItem("r8_check");return a}catch(b){}return!1};this.setData=function(a){try{var b={data:a.data,expires:0};b.expires=a.expiresInMinutes?Date.now()+6E4*a.expiresInMinutes:a.expiresInDays?Date.now()+864E5*a.expiresInDays:0;var c=this.createKey(a);c&&(0<b.expires?localStorage.setItem(c,R8.deviceStorage.toStream(b)):sessionStorage.setItem(c,R8.deviceStorage.toStream(b)))}catch(d){throw Error("R8DeviceStorageLocal: "+
d);}};this.getData=function(a){var b=this._getData(a);return b&&!this._isExpired(b,a.key)?b.data:null};this._getData=function(a){try{var b=null,c=null,d=this.createKey(a);d&&(c=localStorage.getItem(d),null==c&&(c=sessionStorage.getItem(d)));return c?b=R8.deviceStorage.toObject(c):null}catch(f){console.log("R8Storage: "+f)}return null};this._isExpired=function(a,b){if(a){var c=Date.now(),d=a.expires;if(void 0===d||null===d)d=-1;if(0!=d&&d<c)b&&this.removeData({key:b});else return!1}return!0};this.removeData=
function(a){try{var b=this.createKey(a);b&&(localStorage.removeItem(b),sessionStorage.removeItem(b))}catch(c){}};this.onLoad=function(){for(var a in localStorage)if(0==a.indexOf(this.KEY_PREFIX)){var b=R8.deviceStorage.toObject(localStorage.getItem(a));this._isExpired(b,null)&&(localStorage.removeItem(a),sessionStorage.removeItem(a),R8.debug("R8DeviceStorageLocal.onLoad | remove["+a+"]"))}}}function Ja(){this.KEY_PREFIX="r8p_";this.name="cookies";this.createKey=function(a){return(a=a.key)&&""!=a?
0==a.indexOf(this.KEY_PREFIX)?a:this.KEY_PREFIX+a:null};this.isEnabled=function(){return!0};this.setData=function(a){var b=this.createKey(a);if(b){var c=R8.deviceStorage.toStream(a.data);c&&(a.expiresInMinutes?R8.setCookie({key:b,value:c,expiresInMinutes:a.expiresInMinutes}):a.expiresInDays?R8.setCookie({key:b,value:c,expiresInDays:a.expiresInDays}):R8.setCookie({key:b,value:c}))}};this.getData=function(a){try{var b=this.createKey(a);if(b){var c=R8.getCookie({key:b});if(c)return R8.deviceStorage.toObject(c)}}catch(d){this.removeData(a)}return null};
this.removeData=function(a){(a=this.createKey(a))&&R8.removeCookie({key:a})};this.onLoad=function(){}}if(!window.R8){window.R8={};R8.PS={};R8.PS.R8_GEOLOCATION_CHANGED="R8_GEOLOCATION_CHANGED";R8.PS.R8_GEOLOCATION_STARTED="R8_GEOLOCATION_STARTED";R8.PS.R8_GEOLOCATION_ENDED="R8_GEOLOCATION_ENDED";R8.PS.R8_API_READY="R8_API_READY";var R=null,S=3E4,ea=!0,T=!0,B={},C=null,L=null,U=null,F="standalone",va=null,fa=0,ga=null,ha=null,La=(new Date).getTime(),ia=null,x=null,ja=null,y=null,Z=null,G=null,wa={};
R8.addons={};R8.now=function(){return Date.now?Date.now():(new Date).getTime()};R8.getLoadedAt=function(){return La};R8.isRunning=function(){return R8.appname&&R8.base_url?!0:!1};R8.callIfExists=function(a,b,c){return a&&a[b]?c?a[b](c):a[b]():null};R8.init=function(a){if(R8.isRunning())return R8.log("R8 Loaded Already. Only One Instance Can Be Initialized."),!1;fa=R8.now();if(wa=a.parent)wa.rtFilter=xa;a=a?a:{};R8.appname=null;R8.appkey=null;R8.base_url=null;R8.base_cdn_url=null;R8.version_tag=null;
S=void 0!=a.geo_timeout?a.geo_timeout:S;T=void 0!=a.retry_when_expired?a.retry_when_expired:T;F=a.run_mode?a.run_mode:F;""==F&&(F="standalone");a.version_tag&&(R8.version_tag=a.version_tag);if(!R8.version_tag||""==R8.version_tag)try{for(var b=document.getElementsByTagName("script"),c=0;c<b.length;c++)if(b[c].src&&-1<b[c].src.indexOf("/r8/")){var d=b[c].src.indexOf("?r8tv\x3d");if(-1<d){R8.version_tag=b[c].src.substring(d+6,b[c].src.length);break}}}catch(f){}R8.version_tag&&""!=R8.version_tag||(b=
R8.getPageMeta({key:"r8-version-tag",defaultValue:"r81u"}),R8.version_tag=b["r8-version-tag"]);a.base_url?R8.base_url=a.base_url:(b=R8.Utils.endsWith(location.protocol,":")?location.protocol.substring(0,location.protocol.length-1):location.protocol,R8.base_url=b+"://"+location.host+"/");R8.base_api_url=null;R8.base_url&&(R8.base_api_url=R8.base_url);a.appname&&(R8.appname=a.appname);a.appkey&&(R8.appkey=a.appkey);a.apikey&&(U=a.apikey);a.domain_id&&(C=a.domain_id);R8.base_api_url=a.api_base_uri?a.api_base_uri:
R8.base_url;a.base_cdn_url?R8.base_cdn_url=a.base_cdn_url:(b=R8.getPageMeta({key:"r8-platform-cdn"}),b["r8-platform-cdn"]&&(R8.base_cdn_url=b["r8-platform-cdn"]),R8.base_cdn_url||(R8.base_cdn_url=R8.base_url));R8.Utils.endsWith(R8.base_url,"/")&&(R8.base_url=R8.base_url.substring(0,R8.base_url.length-1));R8.Utils.endsWith(R8.base_api_url,"/")&&(R8.base_api_url=R8.base_api_url.substring(0,R8.base_api_url.length-1));R8.Utils.endsWith(R8.base_cdn_url,"/")&&(R8.base_cdn_url=R8.base_cdn_url.substring(0,
R8.base_cdn_url.length-1));(L=R8.getCookie({key:"r8d"}))&&""!=L||R8.setCookie({key:"r8d",value:L=R8.newUID(),expiresInDays:730});va=U&&""!=U?U:R8.getDomainId();a.geo_point&&(m=new aa({lat:a.geo_point.lat,lng:a.geo_point.lng}),t=a.geo_source||"manual");if(a.request_tag&&(Z=a.request_tag)&&(y=Z,b=y.split("#"),2==b.length)){y=b[0];try{G=parseInt(R8.fromBase64(b[1]))}catch(f){}}ka=!0===a.debug;try{location.pathname&&location.pathname.split("/").slice(-1)}catch(f){}ha=R8.newUID()+"-"+R8.toHex(fa);R8.deviceStorage=
new Ha;R8.deviceStorage.load();R8.debug("App Name: "+R8.appname);R8.debug("Version Tag: "+R8.version_tag);R8.debug("Base Location: "+R8.base_url);R8.debug("Base API: "+R8.base_api_url);R8.debug("Base CDN: "+R8.base_cdn_url);R8.debug("Domain Id: "+R8.getDomainId());R8.debug("Public Domain URL: "+R8.getPublicDomainURL());R8.debug("Retry On: "+T);R8.debug("Run Mode: "+F);R8.debug("Device Id: "+L);R8.debug("Instance Id: "+ha);R8.PubSub.publishAsync({name:R8.PS.R8_API_READY})};R8.getInstanceId=function(){return ha};
R8.toHex=function(a){return a.toString(16)};R8.each=function(a,b){var c=[],d=function(a,d){var f=b(a,d);return f&&(void 0!=f.value&&c.push(f.value),f.breakout)?!0:!1};if(R8.isArray(a))for(var f=0;f<a.length&&!d(a[f],f);f++);else for(f in a)if(d(a[f],f))break;return c};R8.getVersionTag=function(){return R8.version_tag};R8.isArray=function(a){return a?a.isArray?a.isArray():"[object Array]"===Object.prototype.toString.call(a):!1};R8.getPlatformURL=function(){if(ia)return ia;var a=R8.getDomainId();return ia=
R8.base_url.replace(a,"platform")};R8.getPublicDomainURL=function(){if(ga)return ga;var a=R8.getDomainId(),b=R8.base_url;return ga=-1==R8.base_url.indexOf("//"+a+".")?b.substring(0,b.indexOf("://")+3)+a+b.substring(b.indexOf("."),b.length):R8.base_url};R8.getDomainId=function(){if(!C){var a=R8.getPageMeta({key:"r8-domain-id"});a["r8-domain-id"]&&(C=a["r8-domain-id"]);C||(C=location.host.split(".")[0])}return C};R8.getBaseURL=function(){return R8.base_url};R8.getBaseAPI=function(){return R8.base_api_url};
R8.getBaseCDN=function(){return R8.base_cdn_url};R8.findScriptPath=function(a){(a=a.name)&&(a=a.toLowerCase());for(var b=document.getElementsByTagName("script"),c=b.length-1;0<=c;--c){var d=b[c].src;if(a&&-1<d.toLowerCase().indexOf(a))return d}return null};R8.getLastVisit=function(a){return R8.getCookie({key:a+"lv"})};R8.isEmbedded=function(){return window.parent&&window.location.hostname?window.location.hostname!=window.parent.location.hostname:!1};R8.isDebug=function(){return ka};var V=[-1,-1,-1,
-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,-1,-1,-1,-1,-1];R8.toBase64=function(a){if(window.btoa)return window.btoa(unescape(encodeURIComponent(a)));a=unescape(encodeURIComponent(a));var b,c,d,
f,g,h;d=a.length;c=0;for(b="";c<d;){f=a.charCodeAt(c++)&255;if(c==d){b+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(f>>2);b+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt((f&3)<<4);b+="\x3d\x3d";break}g=a.charCodeAt(c++);if(c==d){b+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(f>>2);b+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt((f&3)<<4|(g&240)>>4);b+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt((g&
15)<<2);b+="\x3d";break}h=a.charCodeAt(c++);b+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(f>>2);b+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt((f&3)<<4|(g&240)>>4);b+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt((g&15)<<2|(h&192)>>6);b+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(h&63)}return b};R8.fromBase64=function(a){if(window.atob)return decodeURIComponent(escape(window.atob(a)));
var b=decodeURIComponent,c=escape;a:{var d,f,g,h,k;h=a.length;g=0;for(k="";g<h;){do d=V[a.charCodeAt(g++)&255];while(g<h&&-1==d);if(-1==d)break;do f=V[a.charCodeAt(g++)&255];while(g<h&&-1==f);if(-1==f)break;k+=String.fromCharCode(d<<2|(f&48)>>4);do{d=a.charCodeAt(g++)&255;if(61==d){a=k;break a}d=V[d]}while(g<h&&-1==d);if(-1==d)break;k+=String.fromCharCode((f&15)<<4|(d&60)>>2);do{f=a.charCodeAt(g++)&255;if(61==f){a=k;break a}f=V[f]}while(g<h&&-1==f);if(-1==f)break;k+=String.fromCharCode((d&3)<<6|f)}a=
k}return b(c(a))};R8.isAPICorsMode=function(){var a;var b=R8.getBaseAPI();try{var c=window.location.host.split(":")[0];a=-1<b.indexOf(c)}catch(d){a=!1}return!a};R8.sendRequest=function(a){try{a=a?a:{};a.callback||(a.callback=function(a){a.success||R8.log(a)});var b=null,c=a.callback;a.url||(b="No URL Parameter.");if(b)c({success:!1,data:b,error:b});else{var d=void 0==a.isRetry?!1:a.isRetry,f=a.url,g=a.content,b=!1,h=-1<f.indexOf("/api/v"),k=-1<f.indexOf("/r8control/"),q=void 0==a.allow_retry?!0:a.allow_retry,
p=null;a.method=a.method?a.method:"GET";p=a.data_encode||(h&&R8.isBlank(g)&&"GET"==a.method?"url":"");a.data&&"url"==p&&(f=f+"?"+R8.toURLQuery(a.data));0==f.indexOf("/")&&(f=R8.base_api_url+f,b=!0);-1==f.indexOf("?")&&(f+="?");var p=0,p=R8.Utils&&R8.Utils.moment?R8.Utils.moment.utc().valueOf():(new Date).getTime(),l="\x26"!=f.substring(f.length-1),f=f+(l?"\x26":"")+"_ts\x3d"+p;a.headers||(a.headers={});void 0==a.authorization&&b&&(a.authorization=!0);R8.isEmpty(a.headers.Authorization)&&a.authorization&&
"cors"==F?a.headers.Authorization="R8-Gateway App\x3d"+R8.appname+", key\x3d"+va+", Type\x3dSameOrigin":R8.isEmpty(a.headers.Authorization)&&a.authorization&&(a.headers.Authorization="R8-Gateway App\x3d"+R8.appname+", key\x3d"+R8.appkey+", Type\x3dUnique");if(b&&(a.headers["X-Domain-Id"]=C,m&&(a.headers["Geo-Position"]=m.lat+";"+m.lng),a.headers["X-Device-Id"]=L,y&&(h||k))){var w=(new Date).getTime()-R8.getLoadedAt()+(G?G:0);a.headers["X-Request-Tag"]=y+"#"+R8.toBase64(w)}h&&R8.isAPICorsMode()&&"GET"==
a.method&&(f=f+"\x26hdog\x3d"+encodeURIComponent(R8.toBase64(R8.toURLQuery(a.headers))),a.headers={});var n=ya(a,f);if(n){if(a.headers)for(var r in a.headers)n.setRequestHeader&&n.setRequestHeader(r,a.headers[r]);d?R8.debug("Retry: "+f):R8.debug(f);n.onload=function(){delete B[n._id];if(c){var b=n.responseText,f=n.getResponseHeader("content-type");null!=f&&-1<f.indexOf("json")&&(b=R8.isBlank(b)?{}:R8.toObject(b));if(400>n.status)c({success:!0,data:b,xhr:n});else{if(401==n.status)try{if(q&&T&&!d){za({originalRequest:a});
return}}catch(g){R8.log(g)}try{c&&c({success:!1,data:b,xhr:n})}catch(g){console.error("Callback handler issue: "+g)}if(la[n.status+""])la[n.status+""]({success:!1,original_request:a,data:b,xhr:n})}}};n.onerror=function(){delete B[n._id];var a=n.responseText,a=n.getResponseHeader&&null!=n.getResponseHeader("content-type")&&-1<n.getResponseHeader("content-type").indexOf("json")?R8.toObject(a):{error:n.responseText};try{c&&c({success:!1,error:a,xhr:n})}catch(b){console.log("Callback handler issue: "+
b)}};n._id=R8.newUID();B[n._id]=n;g?n.send(g):n.send()}else c&&c({success:!1,error:"CORS Request not supported",xhr:null})}}catch(z){c({success:!1,data:z.message,error:z.message}),R8.debug("sendRequest Issue: "+z)}};R8.cancelRequests=function(a){var b=0,c;for(c in B){b++;break}if(0==b)R8.debug("No Requests To Cancel");else{a=a?a:{};b=[];if(a.all)for(c in B)b.push(c);else a.ids&&(b=a.ids);for(a=0;a<b.length;a++)try{B[b[a]].abort(),delete B[b[a]],R8.debug("Cancel Request: ",b[a])}catch(d){R8.log("Cancel Issue: ",
d.message," - ",b[a])}}};R8.toSlug=function(a){return a.toLowerCase().replace(/[^\w\-]+/g,"_").replace(/\s+/g,"_").replace(/\-\-+/g,"_").replace(/^-+/,"_").replace(/-+$/,"_").replace(/-/g,"_")};R8.checkHeartbeat=function(a,b){R8.sendRequest({url:"/status/heartbeat",method:"POST",allow_retry:!1,content:"",callback:function(c){b(c,a)}})};R8.retryExpired=function(a,b){R8.sendRequest({url:"/status/heartbeat",method:"POST",content:"",allow_retry:!1,callback:function(c){b(c,a)}})};R8.trim=function(a){return a&&
""!=a?a.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""):""};R8.setCookie=function(a){var b=new Date,c=a.expires?a.expires:0,c=a.expiresInDays?864E5*a.expiresInDays:a.expiresInMinutes?6E4*a.expiresInMinutes:0;b.setTime(b.getTime()+c);b=0<c?"expires\x3d"+b.toUTCString():"expires\x3d0";document.cookie=a.key+"\x3d"+a.value+"; "+b+";path\x3d/;"};R8.removeCookie=function(a){a.key&&(document.cookie=a.key+"\x3d; Thu, 01 Jan 1970 00:00:01 GMT;path\x3d/;")};R8.getObjectValue=function(a,b,c){var d=null;try{if("string"==
typeof b)d=R8.getObjectValue(a,b.split("."),c);else if(0==b.length)d=a;else{var f=b[0].indexOf("[");if(-1<f){var g=b[0].indexOf("]"),h=b[0].substring(0,f);if(-1==g)throw"Bad Value Path";if((a=a[h])&&"[object Array]"===Object.prototype.toString.call(a)){var k=b[0].substring(f+1,g);"last"==k&&(k=a.length-1);var q=new Number(k),d=R8.getObjectValue(a[q],b.slice(1),c)}else return c}else d=R8.getObjectValue(a[b[0]],b.slice(1),c)}null!=d&&void 0!=d||void 0==c||(d=c);return d}catch(p){if(void 0==c)throw p;
return c}};R8.getCookie=function(a){a=a.key+"\x3d";for(var b=document.cookie.split(";"),c=0;c<b.length;c++){for(var d=b[c];" "==d.charAt(0);)d=d.substring(1);if(0==d.indexOf(a))return d.substring(a.length,d.length)}return null};R8.toObject=function(a){try{if(null!=a)return eval("("+a+")")}catch(b){""==a?console.log("toObject Issue["+b+"] Empty String Value"):console.log("toObject Issue["+b+"] "+a)}return null};R8.toURLQuery=function(a){return R8.toURLEncodedKV(a)};R8.toURLEncodedKV=function(a){var b=
"",c;for(c in a)b+=encodeURIComponent(c)+"\x3d"+encodeURIComponent(a[c])+"\x26";return b};R8.imports=function(a){var b=a.sources,c=a.callback;a=a.completed;for(var d={count:0},f=0;f<b.length;f++)d.count++;if(0==d.count)a&&a();else for(f=0;f<b.length;f++){var g=b[f];if("string"==typeof g&&0==g.indexOf("/"))g=R8.base_url+g;else if("string"!=typeof g){var h=new ma(null,d,c,a);continue}h=new ma(g,d,c,a);try{if("string"==typeof g){var k=g.split("?");R8.Utils.endsWith(k[0],".js")?R8.importScript(h):R8.Utils.endsWith(k[0],
".html")?(h.method="GET",R8.sendRequest(h)):R8.Utils.endsWith(k[0],".css")&&R8.importStyle(h)}}catch(q){console.log("Error Importing["+g+"]")}}};R8.importScript=function(a){this.headElement||(this.headElement=document.getElementsByTagName("head")[0]);try{var b=document.createElement("script");b.type="text/javascript";b.async=!0;if(a.data)for(var c in a.data)b.setAttribute("data-"+c,a.data[c]);a.callback||(a.callback=function(){});b.attachEvent?(b.attachEvent("onreadystatechange",function(){"loaded"==
b.readyState&&a.callback({success:!0})}),b.attachEvent("error",function(){a.callback({success:!1})},!0)):(b.onload=function(){a.callback({success:!0})},b.addEventListener("error",function(){a.callback({success:!1})},!0));a.url?b.src=a.url:a.code&&(b.text=a.code);b=this.headElement.appendChild(b)}catch(d){console.log("Issue Importing["+d+"]",d)}};R8.importStyle=function(a){var b=document.createElement("link");b.type="text/css";b.rel="stylesheet";b.media="screen";b.href=a.url;b.onload&&(b.onload=function(){try{a.callback({success:!0})}catch(b){console.log(b)}});
document.getElementsByTagName("head")[0].appendChild(b);if(!b.onload&&a.callback)try{a.callback({success:!0})}catch(c){console.log(c)}};R8.isGeoAPIEnabled=function(){return ea};var Ma={1:"Permission Denied",2:"Position Unavailable",3:"Request Timeout"},m=null,t="",W=null,u={},oa="";u.shared_geo=function(a){var b=a.user_options.callback;a=function(){var a=R8.getGeoLocation();b&&b({success:!0,lat:a.lat,lng:a.lng,geo_point:a});R8.PubSub.publishAsync({name:R8.PS.R8_GEOLOCATION_ENDED,success:!0,geo_point:a})};
R8.getGeoLocation()?a():R8.PubSub.subscribe(R8.PS.R8_GEOLOCATION_CHANGED,a)};u.current_geo=function(a){null!=m?(R8.debug("Using Current Geo Point"),H({geo_ctx:a,geo_point:m,gs:t,callback:a.user_options.callback}),a.next(!0)):a.next(!1)};u.cached_geo=function(a){var b=null,c=null;try{b=R8.deviceStorage.getData({key:"gp"}),c=R8.deviceStorage.getData({key:"gi"})}catch(d){}b?(R8.debug("Using Cached Geo Point ",b),H({geo_ctx:a,should_cache:!1,geo_point:new aa({lat:b.lat,lng:b.lng}),gs:b.gs,geo_info:c,
callback:a.user_options.callback}),a.next(!0)):a.next(!1)};u.querystring_geo=function(a){var b=R8.getSearchQuery();if(!R8.isBlank(b.r8_latlng)){R8.debug("Using QueryString Geo Point");try{var c=b.r8_latlng.split(",");b.r8_lat=new Number(c[0]);b.r8_lng=new Number(c[1]);if(!(-90<=b.r8_lat&&90>=b.r8_lat&&-180<=b.r8_lng&&180>=b.r8_lng)){a.next(!1);return}}catch(d){a.next(!1);return}H({geo_ctx:a,geo_point:{lat:b.r8_lat,lng:b.r8_lng},gs:"manual",callback:a.user_options.callback});a.next(!0)}a.next(!1)};
u.geolocation_geo=function(a){if(navigator.geolocation){var b=S,c=null;a.user_options&&a.user_options.timeout&&(b=a.user_options.timeout);var d={enableHighAccuracy:!1,timeout:S,maximumAge:3E5},c=setTimeout(function(){R8.debug("Geo Fallback Timeout Reached.");a.running&&a.next(!1)},b);navigator.geolocation.getCurrentPosition(function(d){clearTimeout(c);var g=a.running;R8.debug("Using New Geo Location, Timeout was: "+b);g&&a.next(!0);ea=!0;R8.sendRequest({url:"/api/v1/geo/locations?search_accuracy\x3dHIGH\x26lat\x3d"+
d.coords.latitude+"\x26lng\x3d"+d.coords.longitude,method:"GET",callback:function(b){if(b.success&&(b=b.data.results,0<b.length)){b=b[0];a.next(!0);var c={gs:"gps",geo_ctx:a,callback:a.user_options.callback};na(b,c);H(c);return}g&&a.next(!1)}})},function(b){clearTimeout(c);if(a.running){try{var d=JSON.stringify(b);if(!b.message||""==b.message)try{d=JSON.stringify(b)}catch(h){R8.log(h)}R8.debug("R8-GeoError ["+b.code+"] ["+Ma[b.code]+"] "+d)}catch(h){console.error("R8-GeoException ["+h+"]")}ea=!1;
try{a.next(!1)}catch(h){}}else R8.debug("R8-GeoError, Delayed Response, Already Completed.")},d)}else console.error("getCurrentPosition Failed."),a.next(!1)};u.geocoding_ip_geo=function(a){R8.debug("Using IP GeoCoding");R8.sendRequest({url:"/api/v1/geo/locations?search_accuracy\x3dHIGH",method:"GET",callback:function(b){if(a.running){if(b.success&&(b=b.data.results,0<b.length)){b=b[0];a.next(!0);var c={gs:"ip",geo_ctx:a,callback:a.user_options.callback};na(b,c);H(c);return}a.next(!1)}else R8.debug("R8-GeoIP, Delayed Response, Already Completed.")}})};
R8.geoLocationInfo=function(){var a={};m&&(a.geo_point={lat:m.lat,lng:m.lng},a.strategy_used=oa);return a};R8.geoLocation=function(a){var b=a.strategy;b||(b=["current","cached","querystring","geolocation","geocoding_ip"]);(new Aa(b,a)).next()};R8.cacheCurrentLocation=function(a){a=a?a:{};var b=!1,c=0,d=a.gs;if(R8.hasValue(a.lat)&&R8.hasValue(a.lng)){var d=a.gs,f=R8.deviceStorage.getData({key:"gp"});if(f){try{c=R8.Utils.getDistance(f.lat,f.lng,a.lat,a.lng),b=1<c,!b&&d&&f.gs&&(b=d!=f.gs)}catch(g){console.log(g)}b&&
R8.debug("[Geo Point] Override Cache, Distance: ",b);if(!b&&f.lat==a.lat&&f.lng==a.lng)return R8.debug("[Geo Point] Skipping, Already Cached ["+c+"]: ",f),c}R8.debug("[Geo Point] Caching: ",a);R8.deviceStorage.setData({key:"gp",expiresInMinutes:10,data:{lat:a.lat,lng:a.lng,gs:d}})}else R8.debug("[Geo Point] No current location to cache");return c};R8.cacheCurrentGeoInfo=function(a){a=a?a:{};if(R8.hasValue(a.postal_code)){a={postal_code:a.postal_code,continent_code:a.continent_code,country_code:a.country_code,
city:a.city,region_code:a.region_code,geo_ids:a.geo_ids};var b=R8.deviceStorage.getData({key:"gi"});b&&a.postal_code==b.postal_code?R8.debug("[Geo Info] Skipping Caching, Already Exists: ",b):(R8.debug("[Geo Info] Caching: ",a),R8.deviceStorage.setData({key:"gi",expiresInMinutes:10,data:a}))}else R8.debug("[Geo Info] No current info to cache")};R8.getGeoLocation=function(){return m};R8.setGeoLocation=function(a){var b=a.callback,c=a.geo_info,d=R8.hasValue(a.should_cache)?a.should_cache:!0,f=a.gs||
"";R8.debug("setGeoLocation("+f+") CURRENT ("+t+")");t&&"gps"==t&&"ip"==f?(b&&b(),R8.debug("setGeoLocation("+f+") IGNORED - Cannot Override GPS with IP geo source")):W&&W.lat==a.geo_point.lat&&W.lng==a.geo_point.lng?b&&b():(m=W=new aa({lat:a.geo_point.lat,lng:a.geo_point.lng}),t=f,d&&R8.cacheCurrentLocation({lat:a.geo_point.lat,lng:a.geo_point.lng,gs:f}),a=function(){R8.PubSub.publishAsync({name:R8.PS.R8_GEOLOCATION_CHANGED,geo_point:m});b&&b()},c&&c.postal_code?(R8.setGeoInfo(c),a()):R8.getGeoInfo({refresh:!0,
callback:a}))};R8.setGeoInfo=function(a){a={postal_code:a.postal_code,city:a.city,continent_code:a.continent_code,country_code:a.country_code,region_code:a.region_code,geo_ids:a.geo_ids};!R8.hasValue(a.postal_code)||x&&x.postal_code==a.postal_code||(x=a,R8.cacheCurrentGeoInfo(x))};R8.getGeoInfo=function(a){a=a||{};var b=null;if(x&&x.postal_code)return a.callback&&a.callback({geo_info:x}),x;if(a&&a.refresh&&a.callback)Ba(a);else{try{b=R8.deviceStorage.getData({key:"gi"})}catch(c){b=null}b||(b={});
a.callback&&a.callback({geo_info:b});return b}};R8.geocodeLocation=function(a){a=a||{};!R&&google&&google.maps&&(R=new google.maps.Geocoder);if(R){var b=a.country_code,c={address:a.address},d=R8.getGeoInfo();!b&&d&&(b=d.country_code);b&&(c.region=b);R.geocode(c,function(b,c){if("OK"==c){var d=b[0].geometry.location;a.callback({success:!0,lat:d.lat(),lng:d.lng()})}else try{R8.geocodePlaces({query:a.address,callback:function(b){b.success?a.callback(b):a.callback({success:!1,error:"location not found: "+
c})}})}catch(k){a.callback({success:!1,error:"location not found: "+c})}})}else a.callback({success:!1,error:"no geocode location support"})};R8.geocodePlaces=function(a){google.maps&&google.maps.places||a.callback({success:!1});(new google.maps.places.PlacesService(document.createElement("div"))).textSearch({query:a.query},function(b,c){var d={success:!1};if(c===google.maps.places.PlacesServiceStatus.OK&&0<b.length){R8.debug("search-fallback");var f=b[0].geometry.location;d.success=!0;a.callback({success:!0,
lat:f.lat(),lng:f.lng()})}else a.callback(d)})};R8.toCurrency=function(a){return null==a||void 0==a?(0).toFixed(2):a.toFixed(2)};R8.toPhoneFormat=function(a){return null==a?"":-1<a.indexOf("-")?a:a.replace(/(\d{3})(\d{3})(\d{4})/,"$1-$2-$3")};var la={},ka=!1;R8.log=function(){var a="";if(arguments)for(var b=0;b<arguments.length;b++)var c=arguments[b],a="string"!=typeof c?a+JSON.stringify(c):a+c;console.debug(a)};R8.debug=function(){if(ka){var a=Array.prototype.slice.call(arguments);a.unshift("[R8] ");
R8.log.apply(this,a)}};R8.toError=function(a){try{throw Error(a);}catch(f){var b={message:a,line_number:-1,column_number:-1,filename:""};if(f&&f.stack)try{var c=f.stack.split("\n");c.splice(0,2);a=c[0];var d=a.replace("(","").replace(")","").split(":");3<d.length&&(b.line_number=d[d.length-2],b.column_number=d[d.length-1],b.filename=a.substring(a.indexOf("://"),a.lastIndexOf(":")))}catch(g){b.message=a}return b}};R8.error=function(a){a=R8.toError(a);r8ProcessError(a)};R8.addErrorHandler=function(a){la[a.status]=
a.handler};R8.parseQuery=function(a){if(!a||0==a.length)return{};var b="?"===a.substring(0,1)?1:0;a=a.substring(b).split("\x26");var b={},c,d,f;for(c=0;c<a.length;c++)d=a[c],-1===d.indexOf("\x3d")?b[R8.trim(decodeURIComponent(d))]=!0:(f=d.split("\x3d"),d=R8.trim(decodeURIComponent(f[0])),f=R8.trim(decodeURIComponent(f[1])),b[d]=f);return b};R8.getSearchQuery=function(){return R8.parseQuery(document.location.search)};R8.getLocationHash=function(){var a=window.location.hash;return a?a.substring(1):
null};R8._templates={};R8.getTemplate=function(a){var b=R8._templates["_"+a.query];null==b&&(b=R8.compileTemplate(a),R8._templates["_"+a.query]=b);a.template=b;return R8.renderTemplate(a)};R8.compileTemplate=function(a){var b=null;try{b=template_engine_trimpath_compileTemplate(a)}catch(c){console.log(c)}return b};R8.renderTemplate=function(a){var b=a.template,c=R8.hasValue(a.throwExceptions)?a.throwExceptions:!1;try{return b?b?b.process(a.model,{throwExceptions:c,keepWhitespace:!1}):"":template_engine_trimpath_renderTemplate(a)}catch(d){return console.log(d),
""}};R8.getAttribute=function(a,b,c){var d=null;c=void 0!=c?c:null;a&&a.getAttribute&&(d=a.getAttribute(b));null==d&&(d=c);return d};R8.getPageMeta=function(a){a=a?a:{};for(var b=document.getElementsByTagName("meta"),c=a.defaultValue,d={},f=0;f<b.length;f++){var g=b[f].getAttribute("name");if(g)if(!a.key)d[g]=b[f].getAttribute("content");else if(a.key&&a.key==g){d[g]=b[f].getAttribute("content");break}}a.key&&!d[a.key]&&c&&(d[a.key]=c);return d};R8.cache=new I;I.prototype.get=function(a){a="string"==
typeof a?a:a.key;var b=this.__dataset[a];if(!b){var c=R8.getCookie({key:a});try{c&&(c=R8.fromBase64(c))}catch(d){R8.log(d)}c&&(b=R8.toObject(c))&&(this.__dataset[a]=b)}return b};I.prototype.set=function(a){var b=this.__dataset[a.key],c="";a.persist&&(c="string"==typeof a.value?R8.toBase64(a.value):R8.toBase64(JSON.stringify(a.value)),R8.setCookie({key:a.key,value:c}));this.__dataset[a.key]=a.value;return b};I.prototype.has=function(a){return"string"==typeof a?void 0!=this.__dataset[a]:!1};I.prototype.keys=
function(){var a=[],b;for(b in this.__dataset)a.push(b);return a};R8.addEventListener=function(a,b,c,d){void 0==d&&(d=!1);"object"!=typeof d||R8.getDeviceInfo().supportsEventOptions||(d=!1);a.addEventListener?a.addEventListener(b,c,d):a.attachEvent&&a.attachEvent("on"+b,c)};R8.removeEventListener=function(a,b,c,d){void 0==d&&(d=!1);"object"!=typeof d||R8.getDeviceInfo().supportsEventOptions||(d=!1);a.removeEventListener?a.removeEventListener(b,c,d):a.detachEvent&&a.detachEvent("on"+b,c)};R8.domUp=
pa;R8.mergeObjects=function(){for(var a={},b=0;b<arguments.length;b++){var c=arguments[b];if(c&&"object"===typeof c)for(var d in c)a[d]=c[d]}return a};R8.toCopy=function(a){return JSON.parse(JSON.stringify(a))};R8.existsArray=function(a,b){if(!a)return!1;if(a.indexOf)return-1<a.indexOf(b);for(var c=0;c<a.length;c++)if(a[c]===b)return!0;return!1};R8.uniqueArray=function(a,b){-1==a.indexOf(b)&&a.push(b);return a};R8.deleteArray=function(a,b){var c=a.indexOf(b);-1<c&&a.splice(c,1);return a};R8.findEmptyKey=
function(){for(var a=0;a<arguments.length;a++){var b=arguments[a];if("object"==typeof b)for(var c in b){if(isEmpty(b[c]))return c}else if(null==b)return"this"}null};R8.getDataset=function(a){var b={};if(!a)return b;for(var c=0,d=a.attributes.length;c<d;c++){var f=a.attributes[c];f.nodeName&&R8.Utils.startsWith(f.nodeName,"data-")&&(b[f.nodeName.substring(5,f.nodeName.length)]=f.nodeValue)}return b};R8.toNumbers=function(a){return a?a.replace(/\D/g,""):""};R8.isEmpty=function(){for(var a=0;a<arguments.length;a++){var b=
arguments[a];if("string"==typeof b&&R8.isBlank(b)||"array"==typeof b&&0==b.length||null==b)return!0}!1};R8.getValue=function(a,b){return void 0==a||null==a?b:a};R8.isBlank=function(){for(var a=0;a<arguments.length;a++){var b=arguments[a];if(null==b||"string"==typeof b&&0==R8.trim(b).length)return!0}return!1};R8.toNumber=function(a){return R8.isBlank(a)?0:"string"===typeof a?new Number(a):"number"===typeof a?a:new Number(a.toString())};R8.Console=new qa;qa.prototype.debug=function(){var a="";if(arguments)for(var b=
0;b<arguments.length;b++)var c=arguments[b],a="string"!=typeof c?a+JSON.stringify(c):a+c;console.debug(a)};R8.getDeviceInfo=function(){if(ja)return ja;var a={};a.isMobile=/iPhone|iPad|iPod|Android|IEMobile/i.test(navigator.userAgent);a.supportsTouch="ontouchstart"in document.documentElement&&a.isMobile;a.supportsEventOptions=Da();return ja=a};Y=M=void 0;var J=[];R8.tap=function(a,b,c){var d=[],f=R8.getDeviceInfo().supportsTouch,g=void 0!==c?c:!0,h=null,h=f?function(a){var c=(new Date).getTime();3>=
M&&800>c-Y&&(b({event:a,target:a.target}),g&&a.preventDefault())}:function(a){b({event:a,target:a.target})};"object"==typeof a?(d.push(a),f?(a.removeEventListener("touchstart",N),a.removeEventListener("touchmove",O),P(a),a.addEventListener("touchstart",N,!1),a.addEventListener("touchmove",O,!1),a.addEventListener("touchend",h,!1),Q({name:"touchend",target:a,handler:h})):(P(a),a.addEventListener("click",h,!1),Q({name:"click",target:a,handler:h}))):Ca(document.querySelectorAll(a)).forEach(function(a,
b,c){d.push(a);f?(a.removeEventListener("touchstart",N),a.removeEventListener("touchmove",O),P(a),a.addEventListener("touchstart",N,!1),a.addEventListener("touchmove",O,!1),a.addEventListener("touchend",h,!1),Q({name:"touchend",target:a,handler:h})):(P(a),a.addEventListener("click",h,!1),Q({name:"click",target:a,handler:h}))});return d};R8.Analytics=new r;r.prototype.addCallback=function(a){this._callbacks.push(a)};r.prototype.addGlobal=function(a){for(var b in a)this._sharedData[b]=a[b]};r.prototype.addSet=
function(a){var b=this;R8.each(a,function(a,d){b.add(a)})};r.prototype.add=function(a){var b={};if(a.type){var c={type:a.type,data:{}},d;for(d in a)b[d]=a[d];for(d in this._sharedData)b[d]||(b[d]=this._sharedData[d]);if(b.slug_id&&-1<b.slug_id.indexOf("r8preview_"))R8.debug("Ignoring Slug Ids for Preview Mode: "+b.slug_id);else{b.store_code&&(c.store_code=b.store_code);c.geo_point=!b.geo_point&&m?{lat:m.lat,lng:m.lng}:b.geo_point;R8.hasValue(t)&&""!=t&&(c.geo_source=t);a=null;if(window.R8Services&&
window.R8Services.getActiveLocation){var f=window.R8Services.getActiveLocation();f&&f.geo_distance&&(a=f.geo_distance.distance,"MI"==f.geo_distance.unit?a*=1.6:"KM"!=f.geo_distance.unit&&(a=null))}R8.hasValue(a)&&(c.geo_distance_source=a);f=(a=R8.getGeoInfo())&&a.postal_code;b.postal_code?c.postal_code=b.postal_code:f&&(c.postal_code=a.postal_code);f&&(c.city=a.city,c.continent_code=a.continent_code,c.country_code=a.country_code,c.region_code=a.region_code,a.geo_ids&&0<a.geo_ids.length&&(c.geo_ids=
a.geo_ids));b.source&&(c.source=b.source);b.page&&(c.page=b.page);b.url&&(c.url=b.url);b.referrer&&(c.referrer=b.referrer);try{c.url||(c.url=document.location.href),c.referrer||(c.referrer=document.referrer)}catch(g){}for(d in b)c[d]||(c.data[d]=b[d]);this._queueCaptures.push(c)}}else R8.log("R8.Analytics needs 'type' parameter")};r.prototype.send=function(a){R8.Analytics.capture(a)};r.prototype.capture=function(a,b){a=a||{};a.data?this.add(a.data):a.dataset?this.addSet(a.dataset):this.add(a);var c=
this;setTimeout(function(){c._sendCaptures({callback:b})},0)};r.prototype.triggerCallbacks=function(a){for(var b=0;b<this._callbacks.length;b++)try{this._callbacks[b](a)}catch(c){}};r.prototype._sendCaptures=function(a){try{a=a||{};var b=a.callback;if(0==this._queueCaptures.length)b&&b({success:!0});else{for(var c=[],d=this._queueCaptures.length;0<d;)c.push(this._queueCaptures.shift()),d--;var f=this,g=null;for(a=[];c.length;)a.push(c.splice(0,3));R8.each(a,function(a,d){g={url:"/api/v1/analytics/capture?pdog\x3d"+
encodeURIComponent(R8.toJSONBase64({capture:a})),method:"GET",callback:function(a){a.capture=c;f.triggerCallbacks(a);b&&b({success:a.success})}};R8.sendRequest(g)})}}catch(h){console.log("R8 Capture Issue - "+h),b&&b({success:!1})}};R8.hasValue=function(a){return!(null==a||void 0===a)};R8.toJSONBase64=function(a){return R8.toBase64(JSON.stringify(a))};R8.newUID=function(){return v()+v()+"-"+v()+"-"+v()+"-"+v()+"-"+v()+v()+v()};R8.getURLParameters=function(){for(var a,b=/\+/g,c=/([^&=]+)=?([^&]*)/g,
d=window.location.search.substring(1),f={};a=c.exec(d);)f[decodeURIComponent(a[1].replace(b," "))]=decodeURIComponent(a[2].replace(b," "));return f};R8.scrollDown=function(a){a.target&&void 0!=a.target.scrollTop&&(a.target.scrollTop+=a.distance)};R8.onScrollBottom=function(a){return new function(a){var c=a.target,d=a.callback,f=a.threshold?a.threshold:97,g=!1,h=function(a){a=a.target;var b=null,b="#document"==a.nodeName?ra(document):ra(a);b>=f?g||(g=!0,d(a)):g=!1};this.remove=function(){R8.removeEventListener(c,
"scroll",h,{passive:!0})};R8.addEventListener(c,"scroll",h,{passive:!0})}(a)};R8.Perf=function(){var a={};return{fromStart:function(){return R8.now()-fa},start:function(b){a[b]={start:R8.now(),end:0}},end:function(b){if(a[b]){var c=a[b].start;delete a[b];return R8.now()-c}return-1}}}();R8.Utils=function(){return{startsWith:function(a,b){return null==a||null==b?!1:a.substring(0,b.length)===b},endsWith:function(a,b){return null==a||null==b?!1:a.substring(a.length-b.length,a.length)===b},queryDOM:function(a){var b=
a.callback,c=[],d=a.query.split(",");a=a.target?a.target:document;for(var f=0;f<d.length;f++){var g=!1,h=d[f];if(""!=h){var h=h.split(":"),k=a.getElementsByTagName(h[0]);if(1<h.length&&""!=h[1])for(var g=!0,q=0;q<k.length;q++){var p=k[q];p.getAttribute(h[1])&&b(p)&&c.push(p)}if(!g&&k)for(q=0;q<k.length;q++)p=k[q],b(p)&&c.push(p)}}return c},elementCSS:function(a,b,c){if(!a||!b)throw Error("elementCSS Either 'target' or 'action' is missing");try{if("add"==b){var d=a.className.split(/\s+/),f=!0;d.indexOf&&
(f=-1==d.indexOf(c));f&&(d.push(c),a.className=d.join(" "))}else if("remove"==b){d=a.className.split(/\s+/);b=-1;for(var f=0,g=d.length;f<g;f++)if(d[f]==c){b=f;d.splice(b,1);a.className=d.join(" ");break}}else if("has"==b){d=a.className.split(/\s+/);f=0;for(g=d.length;f<g;f++)if(d[f]==c)return!0;return!1}}catch(h){R8.debug("elementCSS issue: "+h)}}}}();R8.startsWith=R8.Utils.startsWith;R8.endsWith=R8.Utils.endsWith;R8.queryDOM=R8.Utils.queryDOM;window.R8Utils=R8.Utils;R8.PubSub=function(){function a(a,
b){try{b(a)}catch(c){R8.log("PubSub Error ",a," - ",c.message)}}var b={},c=[];return{unsubscribe:function(){var a,c;1<arguments.length?(a=arguments[0],c=arguments[1]):(a=arguments[0],c=void 0);a=(a?a:"").toLowerCase();var g=0;if(c)for(a=b[a];0<a.length;a++){if(a[0]==c){a.splice(0,1);g++;break}}else g=void 0==b[a]?0:b[a].length,delete b[a];return g},subscribe:function(){var a={},a=1<arguments.length?{name:arguments[0],callback:arguments[1]}:arguments[0];a.name=a.name?a.name:"";var f=a.name.toLowerCase();
"*"==f?c.push(a.callback):(b[f]||(b[f]=[]),b[f].push(a.callback))},publishAsync:function(a){setTimeout(function(){R8.PubSub.publish(a)},1)},publish:function(d){R8.hasValue(d.eventHandled)||(d.eventHandled=!1);if(!d.eventHandled)if(d.eventId||(d.eventId=R8.newUID()),d.respondWith=function(a){R8.hasValue(a.handled)&&(d.eventHandled=a.handled);if(d.eventCallback)try{var b=a.response;R8.hasValue(b)||(b={});d.eventCallback({event:d,response:b})}catch(c){console.log("[PubSub]["+d.name+"] ",c)}},d.name)if(d.targetWindow)Ea(d);
else{var f=d.name.toLowerCase();if((f=b[f])||0!=c.length){for(var g=0;g<c.length;g++)if(a(d,c[g]),d.eventHandled)return;if(f)for(g=0;g<f.length&&(a(d,f[g]),!d.eventHandled);g++);}}else R8.log("Missing name for PubSub. ",d)}}}();var D={};R8.addEventListener(window,"message",Fa,!1);var E=null;R8.elementClassList=function(a,b,c){var d=[];if(a){var f=a.className;f||(f="");f=R8.trim(f);d=f.split(/\s+/);for(f=0;f<d.length;f++)""==d[f]&&d.splice(f,1);for(f=0;f<d.length;f++)if(d[f]==c){d.splice(f,1);break}"add"==
b&&d.push(c);f=R8.trim(d.join(" "));a.setAttribute("class",f);a.className=f}return d};R8.writeHTML=function(a){var b=a.content,c=a.callback,d=a.styles,f=document.getElementById(a.id);f?(f.innerHTML=b,d&&R8.each(d,function(a,b){f.style[b]=a}),c&&c({success:!0,element:f})):c&&c({success:!1,element:null})};R8.embedHTML=function(a){var b=a.content,c=a.callback,d=a.base_url,f=a.url_query_tag,g=a.target;g?R8.parseHTML({url_query_tag:f,base_url:d,content:b,callback:function(b){b.targetElement=g;"string"==
typeof b.targetElement&&(b.targetElement=document.getElementById(b.targetElement.replace("#","")));b.onImportsComplete=a.onImportsComplete;ta(b);c&&c(b)}}):(c&&c({}),console.log("R8.embedHTML: Missing target"))};R8.importHTML=function(a){try{var b={},c=a.embed?a.embed:!0;b.url=a.url;b.withCredentials="undefined"!==a.withCredentials?a.withCredentials:!1;a.url_query_tag&&(b.url=b.url+(-1==b.url.indexOf("?")?"?":"\x26")+a.url_query_tag);b.callback=function(b){if(b.success)R8.parseHTML({url_query_tag:a.url_query_tag,
base_url:a.base_url,content:b.data,callback:function(b){c&&(b.targetElement=a.targetElement,"string"==typeof b.targetElement&&(b.targetElement=document.getElementById(b.targetElement.replace("#",""))),b.onImportsComplete=a.onImportsComplete,ta(b));a.callback&&a.callback(b)}});else if(b={success:!1},a.callback&&a.callback(b),a.onImportsComplete)a.onImportsComplete(b)};R8.sendRequest(b)}catch(d){console.log("Issue ImportHTML: "+d)}};R8.parseHTML=function(a){var b=document.createDocumentFragment(),c=
document.createElement("div"),b=b.appendChild(c),c=a.base_url,d=a.url_query_tag;b.innerHTML=a.content;a.styles=[];a.scripts=[];a.element=b;var f=b.getElementsByTagName("script");if(0<f.length)for(var g=0;g<f.length;g++){var h=f[g],k=h.getAttribute("src");k?(k=ua(c,k,d),a.scripts.push({src:k,text:h.text})):h.text&&a.scripts.push({text:h.text})}f=b.getElementsByTagName("style");if(0<f.length)for(g=0;g<f.length;g++)h=f[g],(k=h.getAttribute("href"))&&ua(c,k,d),a.styles.push({nativeElement:h});f=b.getElementsByTagName("link");
if(0<f.length)for(g=0;g<f.length;g++)h=f[g],"text/css"!=h.type&&"stylesheet"!=h.rel||a.styles.push({nativeElement:h});ba({type:"script",targetElement:b});ba({type:"style",targetElement:b});ba({type:"link",targetElement:b});a.callback&&a.callback(a)};R8.getDistance=function(a,b,c,d,f){if(a==c&&b==d)return 0;a=Math.PI*a/180;c=Math.PI*c/180;b=Math.sin(a)*Math.sin(c)+Math.cos(a)*Math.cos(c)*Math.cos(Math.PI*(b-d)/180);b=Math.acos(b);b=180*b/Math.PI;b*=69.09;f&&("KM"==f&&(b*=1.609344),"NM"==f&&(b*=.8684));
return b};R8.Utils.getDistance=R8.getDistance;var X=null,K=[],da=!1;R8.trackElementInView=function(a){a=a||{};if(!a.target||!a.callback)return R8.debug("trackElementInView - Nothing sent to Track"),null;X||(X=window.setInterval(ca,500),R8.addEventListener(document,"scroll",ca,{passive:!0}));return new function(a){this.id=R8.newUID();this.target=a.target;this.callback=a.callback;this.percentage=a.percentage;var c=this;this.check=function(){var a=R8.isElementInView({target:c.target,percentage:c.percentage});
null!=a&&c.callback({target:c.target,rect:a});return a};this.remove=function(){R8.each(K,function(a,b){if(a.id==c.id)return K.splice(b,1),{breakout:!0}});0==K.length&&(window.clearInterval(X),R8.removeEventListener(document,"scroll",ca),X=null)};K.push(this)}(a)};R8.getElementViewRect=function(a){a=a||{};a=a.target;return a&&a.getBoundingClientRect?(a=a.getBoundingClientRect())?{left:a.left,top:a.top+window.scrollY,right:a.right,bottom:a.bottom}:null:null};R8.isElementInView=function(a){a=a||{};var b=
a.target;a=void 0!=a.percentage?a.percentage:100;if(0==a)return null;if(!b.getBoundingClientRect)return{left:1,right:1,top:1,bottom:1};b=b.getBoundingClientRect();if(0==b.left&&0==b.top&&0==b.right&&0==b.bottom)return null;var c=!1,c=window.innerHeight||document.documentElement.clientHeight,d=window.innerWidth||document.documentElement.clientWidth,f=b.bottom;if(100>a)try{f=b.top+a/100*(b.bottom-b.top)}catch(g){f=b.bottom}return(c=0<=b.top&&0<=b.left&&f<=c&&b.right<=d)?{left:b.left,top:b.top+window.scrollY,
right:b.right,bottom:b.bottom}:null};R8.Utils._hashid={size_6:[8,3,9],size_4:[8,3]};R8.Utils.hashid=function(a){var b=a.size;a=a.encodeText;if(!a)throw Error("HashId missing Parameter: encodeText");if(!b)b=6;else if(4!=b&&6!=b)throw Error("HashId size only supports 4 or 6");return a?(new R8.Utils._hashid.Hashids(a)).encode(R8.Utils._hashid["size_"+b]):null};!function(a,b){if("undefined"!=typeof exports)b(module,exports);else{var c={exports:{}};b(c,c.exports);a.Hashids=c.exports}}(R8.Utils._hashid,
function(a,b){Object.defineProperty(b,"__esModule",{value:!0});var c=function(){function a(b,c){for(var d=0;d<c.length;d++){var f=c[d];f.enumerable=f.enumerable||!1;f.configurable=!0;"value"in f&&(f.writable=!0);Object.defineProperty(b,f.key,f)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),d=function(){function a(){var b=0>=arguments.length||void 0===arguments[0]?"":arguments[0],c=1>=arguments.length||void 0===arguments[1]?0:arguments[1],d=2>=arguments.length||void 0===arguments[2]?
"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890":arguments[2];if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");var q="",p=void 0,l=void 0;this.escapeRegExp=function(a){return a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$\x26")};this.parseInt=function(a,b){return/^(\-|\+)?([0-9]+|Infinity)$/.test(a)?parseInt(a,b):NaN};this.seps="cfhistuCFHISTU";this.minLength=0<parseInt(c,10)?c:0;this.salt="string"==typeof b?b:"";"string"==typeof d&&(this.alphabet=d);for(b=
0;b!==this.alphabet.length;b++)-1===q.indexOf(this.alphabet.charAt(b))&&(q+=this.alphabet.charAt(b));if(this.alphabet=q,16>this.alphabet.length)throw"error: alphabet must contain at least X unique characters".replace("X",16);if(-1!==this.alphabet.search(" "))throw"error: alphabet cannot contain spaces";for(q=0;q!==this.seps.length;q++)b=this.alphabet.indexOf(this.seps.charAt(q)),-1===b?this.seps=this.seps.substr(0,q)+" "+this.seps.substr(q+1):this.alphabet=this.alphabet.substr(0,b)+" "+this.alphabet.substr(b+
1);this.alphabet=this.alphabet.replace(/ /g,"");this.seps=this.seps.replace(/ /g,"");this.seps=this._shuffle(this.seps,this.salt);(!this.seps.length||3.5<this.alphabet.length/this.seps.length)&&(p=Math.ceil(this.alphabet.length/3.5),p>this.seps.length&&(l=p-this.seps.length,this.seps+=this.alphabet.substr(0,l),this.alphabet=this.alphabet.substr(l)));this.alphabet=this._shuffle(this.alphabet,this.salt);p=Math.ceil(this.alphabet.length/12);3>this.alphabet.length?(this.guards=this.seps.substr(0,p),this.seps=
this.seps.substr(p)):(this.guards=this.alphabet.substr(0,p),this.alphabet=this.alphabet.substr(p))}return c(a,[{key:"encode",value:function(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];if(!b.length||b[0]&&b[0].constructor===Array&&(b=b[0],!b.length))return"";for(a=0;a!==b.length;a++)if(b[a]=this.parseInt(b[a],10),!(0<=b[a]))return"";return this._encode(b)}},{key:"decode",value:function(a){var b=[];return a&&a.length&&"string"==typeof a?this._decode(a,this.alphabet):b}},{key:"encodeHex",
value:function(a){if(a=a.toString(),!/^[0-9a-fA-F]+$/.test(a))return"";a=a.match(/[\w\W]{1,12}/g);for(var b=0;b!==a.length;b++)a[b]=parseInt("1"+a[b],16);return this.encode.apply(this,a)}},{key:"decodeHex",value:function(a){var b=[];a=this.decode(a);for(var c=0;c!==a.length;c++)b+=a[c].toString(16).substr(1);return b}},{key:"_encode",value:function(a){for(var b=void 0,c=this.alphabet,d=0,b=0;b!==a.length;b++)d+=a[b]%(b+100);for(var f=b=c.charAt(d%c.length),l=0;l!==a.length;l++){var m=a[l],c=this._shuffle(c,
(f+this.salt+c).substr(0,c.length)),n=this._toAlphabet(m,c);if(b+=n,l+1<a.length)m%=n.charCodeAt(0)+l,b+=this.seps.charAt(m%this.seps.length)}b.length<this.minLength&&(a=(d+b[0].charCodeAt(0))%this.guards.length,f=this.guards[a],b=f+b,b.length<this.minLength&&(a=(d+b[2].charCodeAt(0))%this.guards.length,f=this.guards[a],b+=f));for(d=parseInt(c.length/2,10);b.length<this.minLength;)c=this._shuffle(c,c),b=c.substr(d)+b+c.substr(0,d),a=b.length-this.minLength,0<a&&(b=b.substr(a/2,this.minLength));return b}},
{key:"_decode",value:function(a,b){var c=[],d=0,f=new RegExp("["+this.escapeRegExp(this.guards)+"]","g"),l=a.replace(f," "),f=l.split(" ");if(3!==f.length&&2!==f.length||(d=1),l=f[d],"undefined"!=typeof l[0]){d=l[0];l=l.substr(1);f=new RegExp("["+this.escapeRegExp(this.seps)+"]","g");l=l.replace(f," ");f=l.split(" ");for(l=0;l!==f.length;l++){var m=f[l];b=this._shuffle(b,(d+this.salt+b).substr(0,b.length));c.push(this._fromAlphabet(m,b))}this._encode(c)!==a&&(c=[])}return c}},{key:"_shuffle",value:function(a,
b){var c=void 0;if(!b.length)return a;for(var d=a.length-1,f=0,l=0,c=0;0<d;d--,f++){var f=f%b.length,l=l+(c=b.charAt(f).charCodeAt(0)),c=(c+f+l)%d,m=a[c];a=a.substr(0,c)+a.charAt(d)+a.substr(c+1);a=a.substr(0,d)+m+a.substr(d+1)}return a}},{key:"_toAlphabet",value:function(a,b){var c="";do c=b.charAt(a%b.length)+c,a=parseInt(a/b.length,10);while(a);return c}},{key:"_fromAlphabet",value:function(a,b){for(var c=0,d=0;d<a.length;d++)var f=b.indexOf(a[d]),c=c+f*Math.pow(b.length,a.length-d-1);return c}}]),
a}();b["default"]=d;a.exports=b["default"]})}})();

//==r8_moments.js==//
!function(l,E){"object"==typeof exports&&"undefined"!=typeof module?module.exports=E():l.moment=E()}(R8.Utils,function(){function l(){return Xa.apply(null,arguments)}function E(a){return"[object Array]"===Object.prototype.toString.call(a)}function ka(a){return a instanceof Date||"[object Date]"===Object.prototype.toString.call(a)}function Ya(a,b){var c,d=[];for(c=0;c<a.length;++c)d.push(b(a[c],c));return d}function H(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function la(a,b){for(var c in b)H(b,
c)&&(a[c]=b[c]);return H(b,"toString")&&(a.toString=b.toString),H(b,"valueOf")&&(a.valueOf=b.valueOf),a}function X(a,b,c,d){return Za(a,b,c,d,!0).utc()}function q(a){return null==a._pf&&(a._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}),a._pf}function Ca(a){if(null==a._isValid){var b=q(a);a._isValid=!(isNaN(a._d.getTime())||!(0>b.overflow)||b.empty||b.invalidMonth||b.invalidWeekday||b.nullInput||b.invalidFormat||
b.userInvalidated);a._strict&&(a._isValid=a._isValid&&0===b.charsLeftOver&&0===b.unusedTokens.length&&void 0===b.bigHour)}return a._isValid}function ma(a){var b=X(NaN);return null!=a?la(q(b),a):q(b).userInvalidated=!0,b}function x(a){return void 0===a}function Da(a,b){var c,d,e;if(x(b._isAMomentObject)||(a._isAMomentObject=b._isAMomentObject),x(b._i)||(a._i=b._i),x(b._f)||(a._f=b._f),x(b._l)||(a._l=b._l),x(b._strict)||(a._strict=b._strict),x(b._tzm)||(a._tzm=b._tzm),x(b._isUTC)||(a._isUTC=b._isUTC),
x(b._offset)||(a._offset=b._offset),x(b._pf)||(a._pf=q(b)),x(b._locale)||(a._locale=b._locale),0<Ea.length)for(c in Ea)d=Ea[c],e=b[d],x(e)||(a[d]=e);return a}function da(a){Da(this,a);this._d=new Date(null!=a._d?a._d.getTime():NaN);!1===Fa&&(Fa=!0,l.updateOffset(this),Fa=!1)}function M(a){return a instanceof da||null!=a&&null!=a._isAMomentObject}function y(a){return 0>a?Math.ceil(a):Math.floor(a)}function n(a){a=+a;var b=0;return 0!==a&&isFinite(a)&&(b=y(a)),b}function $a(a,b,c){var d,e=Math.min(a.length,
b.length),f=Math.abs(a.length-b.length),g=0;for(d=0;e>d;d++)(c&&a[d]!==b[d]||!c&&n(a[d])!==n(b[d]))&&g++;return g+f}function ab(){}function bb(a){return a?a.toLowerCase().replace("_","-"):a}function cb(a){var b=null;if(!R[a]&&"undefined"!=typeof module&&module&&module.exports)try{b=na._abbr,require("./locale/"+a),ea(b)}catch(c){}return R[a]}function ea(a,b){var c;return a&&(c=x(b)?S(a):db(a,b),c&&(na=c)),na._abbr}function db(a,b){return null!==b?(b.abbr=a,R[a]=R[a]||new ab,R[a].set(b),ea(a),R[a]):
(delete R[a],null)}function S(a){var b;if(a&&a._locale&&a._locale._abbr&&(a=a._locale._abbr),!a)return na;if(!E(a)){if(b=cb(a))return b;a=[a]}a:{for(var c,d,e,f=0;f<a.length;){e=bb(a[f]).split("-");b=e.length;for(c=(c=bb(a[f+1]))?c.split("-"):null;0<b;){if(d=cb(e.slice(0,b).join("-"))){a=d;break a}if(c&&c.length>=b&&$a(e,c,!0)>=b-1)break;b--}f++}a=null}return a}function w(a,b){var c=a.toLowerCase();fa[c]=fa[c+"s"]=fa[b]=a}function A(a){return"string"==typeof a?fa[a]||fa[a.toLowerCase()]:void 0}function eb(a){var b,
c,d={};for(c in a)H(a,c)&&(b=A(c),b&&(d[b]=a[c]));return d}function N(a){return a instanceof Function||"[object Function]"===Object.prototype.toString.call(a)}function Y(a,b){return function(c){null!=c?(this.isValid()&&this._d["set"+(this._isUTC?"UTC":"")+a](c),c=(l.updateOffset(this,b),this)):c=oa(this,a);return c}}function oa(a,b){return a.isValid()?a._d["get"+(a._isUTC?"UTC":"")+b]():NaN}function fb(a,b){var c;if("object"==typeof a)for(c in a)this.set(c,a[c]);else if(a=A(a),N(this[a]))return this[a](b);
return this}function I(a,b,c){var d=""+Math.abs(a);return(0<=a?c?"+":"":"-")+Math.pow(10,Math.max(0,b-d.length)).toString().substr(1)+d}function k(a,b,c,d){var e=d;"string"==typeof d&&(e=function(){return this[d]()});a&&(Z[a]=e);b&&(Z[b[0]]=function(){return I(e.apply(this,arguments),b[1],b[2])});c&&(Z[c]=function(){return this.localeData().ordinal(e.apply(this,arguments),a)})}function Nb(a){return a.match(/\[[\s\S]/)?a.replace(/^\[|\]$/g,""):a.replace(/\\/g,"")}function Ob(a){var b,c,d=a.match(gb);
b=0;for(c=d.length;c>b;b++)Z[d[b]]?d[b]=Z[d[b]]:d[b]=Nb(d[b]);return function(e){var f="";for(b=0;c>b;b++)f+=d[b]instanceof Function?d[b].call(e,a):d[b];return f}}function Ga(a,b){return a.isValid()?(b=hb(b,a.localeData()),Ha[b]=Ha[b]||Ob(b),Ha[b](a)):a.localeData().invalidDate()}function hb(a,b){function c(a){return b.longDateFormat(a)||a}var d=5;for(pa.lastIndex=0;0<=d&&pa.test(a);)a=a.replace(pa,c),pa.lastIndex=0,--d;return a}function h(a,b,c){Ia[a]=N(b)?b:function(a,e){return a&&c?c:b}}function Pb(a,
b){return H(Ia,a)?Ia[a](b._strict,b._locale):new RegExp(Qb(a))}function Qb(a){return qa(a.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(a,c,d,e,f){return c||d||e||f}))}function qa(a){return a.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$\x26")}function r(a,b){var c,d=b;"string"==typeof a&&(a=[a]);"number"==typeof b&&(d=function(a,c){c[b]=n(a)});for(c=0;c<a.length;c++)Ja[a[c]]=d}function ga(a,b){r(a,function(a,d,e,f){e._w=e._w||{};b(a,e._w,e,f)})}function Ka(a,b){return(new Date(Date.UTC(a,
b+1,0))).getUTCDate()}function ib(a,b){var c;return a.isValid()?"string"==typeof b&&(b=a.localeData().monthsParse(b),"number"!=typeof b)?a:(c=Math.min(a.date(),Ka(a.year(),b)),a._d["set"+(a._isUTC?"UTC":"")+"Month"](b,c),a):a}function jb(a){return null!=a?(ib(this,a),l.updateOffset(this,!0),this):oa(this,"Month")}function kb(){function a(a,b){return b.length-a.length}var b,c,d=[],e=[],f=[];for(b=0;12>b;b++)c=X([2E3,b]),d.push(this.monthsShort(c,"")),e.push(this.months(c,"")),f.push(this.months(c,
"")),f.push(this.monthsShort(c,""));d.sort(a);e.sort(a);f.sort(a);for(b=0;12>b;b++)d[b]=qa(d[b]),e[b]=qa(e[b]),f[b]=qa(f[b]);this._monthsShortRegex=this._monthsRegex=new RegExp("^("+f.join("|")+")","i");this._monthsStrictRegex=new RegExp("^("+e.join("|")+")$","i");this._monthsShortStrictRegex=new RegExp("^("+d.join("|")+")$","i")}function La(a){var b,c=a._a;return c&&-2===q(a).overflow&&(b=0>c[J]||11<c[J]?J:1>c[F]||c[F]>Ka(c[B],c[J])?F:0>c[v]||24<c[v]||24===c[v]&&(0!==c[C]||0!==c[K]||0!==c[T])?v:
0>c[C]||59<c[C]?C:0>c[K]||59<c[K]?K:0>c[T]||999<c[T]?T:-1,q(a)._overflowDayOfYear&&(B>b||b>F)&&(b=F),q(a)._overflowWeeks&&-1===b&&(b=Rb),q(a)._overflowWeekday&&-1===b&&(b=Sb),q(a).overflow=b),a}function lb(a){!1===l.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+a)}function D(a,b){var c=!0;return la(function(){return c&&(lb(a+"\nArguments: "+Array.prototype.slice.call(arguments).join(", ")+"\n"+Error().stack),c=!1),b.apply(this,arguments)},
b)}function mb(a){var b,c,d,e,f,g;b=a._i;var h=Tb.exec(b)||Ub.exec(b);if(h){q(a).iso=!0;b=0;for(c=ra.length;c>b;b++)if(ra[b][1].exec(h[1])){e=ra[b][0];d=!1!==ra[b][2];break}if(null==e)return void(a._isValid=!1);if(h[3]){b=0;for(c=Ma.length;c>b;b++)if(Ma[b][1].exec(h[3])){f=(h[2]||" ")+Ma[b][0];break}if(null==f)return void(a._isValid=!1)}if(!d&&null!=f)return void(a._isValid=!1);if(h[4]){if(!Vb.exec(h[4]))return void(a._isValid=!1);g="Z"}a._f=e+(f||"")+(g||"");Na(a)}else a._isValid=!1}function Wb(a){var b=
Xb.exec(a._i);return null!==b?void(a._d=new Date(+b[1])):(mb(a),void(!1===a._isValid&&(delete a._isValid,l.createFromInputFallback(a))))}function Yb(a,b,c,d,e,f,g){b=new Date(a,b,c,d,e,f,g);return 100>a&&0<=a&&isFinite(b.getFullYear())&&b.setFullYear(a),b}function sa(a){var b=new Date(Date.UTC.apply(null,arguments));return 100>a&&0<=a&&isFinite(b.getUTCFullYear())&&b.setUTCFullYear(a),b}function aa(a){return 0===a%4&&0!==a%100||0===a%400}function ta(a,b,c){c=7+b-c;return-((7+sa(a,0,c).getUTCDay()-
b)%7)+c-1}function nb(a,b,c,d,e){var f,g;c=(7+c-d)%7;d=ta(a,d,e);b=1+7*(b-1)+c+d;return 0>=b?(f=a-1,g=(aa(f)?366:365)+b):b>(aa(a)?366:365)?(f=a+1,g=b-(aa(a)?366:365)):(f=a,g=b),{year:f,dayOfYear:g}}function ha(a,b,c){var d,e,f=ta(a.year(),b,c),f=Math.floor((a.dayOfYear()-f-1)/7)+1;return 1>f?(e=a.year()-1,d=f+U(e,b,c)):f>U(a.year(),b,c)?(d=f-U(a.year(),b,c),e=a.year()+1):(e=a.year(),d=f),{week:d,year:e}}function U(a,b,c){var d=ta(a,b,c);b=ta(a+1,b,c);return((aa(a)?366:365)-d+b)/7}function ba(a,b,
c){return null!=a?a:null!=b?b:c}function Oa(a){var b,c,d,e=[];if(!a._d){c=new Date(l.now());c=a._useUTC?[c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()]:[c.getFullYear(),c.getMonth(),c.getDate()];if(a._w&&null==a._a[F]&&null==a._a[J]){var f,g,h,k,m,n,p,r;f=a._w;null!=f.GG||null!=f.W||null!=f.E?(m=1,n=4,g=ba(f.GG,a._a[B],ha(t(),1,4).year),h=ba(f.W,1),k=ba(f.E,1),(1>k||7<k)&&(r=!0)):(m=a._locale._week.dow,n=a._locale._week.doy,g=ba(f.gg,a._a[B],ha(t(),m,n).year),h=ba(f.w,1),null!=f.d?(k=f.d,(0>k||
6<k)&&(r=!0)):null!=f.e?(k=f.e+m,(0>f.e||6<f.e)&&(r=!0)):k=m);1>h||h>U(g,m,n)?q(a)._overflowWeeks=!0:null!=r?q(a)._overflowWeekday=!0:(p=nb(g,h,k,m,n),a._a[B]=p.year,a._dayOfYear=p.dayOfYear)}a._dayOfYear&&(d=ba(a._a[B],c[B]),a._dayOfYear>(aa(d)?366:365)&&(q(a)._overflowDayOfYear=!0),b=sa(d,0,a._dayOfYear),a._a[J]=b.getUTCMonth(),a._a[F]=b.getUTCDate());for(b=0;3>b&&null==a._a[b];++b)a._a[b]=e[b]=c[b];for(;7>b;b++)a._a[b]=e[b]=null==a._a[b]?2===b?1:0:a._a[b];24===a._a[v]&&0===a._a[C]&&0===a._a[K]&&
0===a._a[T]&&(a._nextDay=!0,a._a[v]=0);a._d=(a._useUTC?sa:Yb).apply(null,e);null!=a._tzm&&a._d.setUTCMinutes(a._d.getUTCMinutes()-a._tzm);a._nextDay&&(a._a[v]=24)}}function Na(a){if(a._f===l.ISO_8601)return void mb(a);a._a=[];q(a).empty=!0;var b,c,d,e,f,g=""+a._i,h=g.length,k=0;d=hb(a._f,a._locale).match(gb)||[];for(b=0;b<d.length;b++)if(e=d[b],(c=(g.match(Pb(e,a))||[])[0])&&(f=g.substr(0,g.indexOf(c)),0<f.length&&q(a).unusedInput.push(f),g=g.slice(g.indexOf(c)+c.length),k+=c.length),Z[e]){c?q(a).empty=
!1:q(a).unusedTokens.push(e);var m=a;null!=c&&H(Ja,e)&&Ja[e](c,m._a,m,e)}else a._strict&&!c&&q(a).unusedTokens.push(e);q(a).charsLeftOver=h-k;0<g.length&&q(a).unusedInput.push(g);!0===q(a).bigHour&&12>=a._a[v]&&0<a._a[v]&&(q(a).bigHour=void 0);b=a._a;d=v;g=a._locale;f=a._a[v];var h=a._meridiem,n,g=null==h?f:null!=g.meridiemHour?g.meridiemHour(f,h):null!=g.isPM?(n=g.isPM(h),n&&12>f&&(f+=12),n||12!==f||(f=0),f):f;b[d]=g;Oa(a);La(a)}function Zb(a){if(!a._d){var b=eb(a._i);a._a=Ya([b.year,b.month,b.day||
b.date,b.hour,b.minute,b.second,b.millisecond],function(a){return a&&parseInt(a,10)});Oa(a)}}function ob(a){var b=a._i,c=a._f;a._locale=a._locale||S(a._l);if(null===b||void 0===c&&""===b)a=ma({nullInput:!0});else if("string"==typeof b&&(a._i=b=a._locale.preparse(b)),M(b))a=new da(La(b));else{if(E(c)){var d,e,f;if(0===a._f.length)q(a).invalidFormat=!0,a._d=new Date(NaN);else{for(b=0;b<a._f.length;b++)c=0,d=Da({},a),null!=a._useUTC&&(d._useUTC=a._useUTC),d._f=a._f[b],Na(d),Ca(d)&&(c+=q(d).charsLeftOver,
c+=10*q(d).unusedTokens.length,q(d).score=c,(null==f||f>c)&&(f=c,e=d));la(a,e||d)}}else c?Na(a):ka(b)?a._d=b:$b(a);a=(Ca(a)||(a._d=null),a)}return a}function $b(a){var b=a._i;void 0===b?a._d=new Date(l.now()):ka(b)?a._d=new Date(+b):"string"==typeof b?Wb(a):E(b)?(a._a=Ya(b.slice(0),function(a){return parseInt(a,10)}),Oa(a)):"object"==typeof b?Zb(a):"number"==typeof b?a._d=new Date(b):l.createFromInputFallback(a)}function Za(a,b,c,d,e){var f={};"boolean"==typeof c&&(d=c,c=void 0);f._isAMomentObject=
!0;f._useUTC=f._isUTC=e;f._l=c;f._i=a;f._f=b;f._strict=d;a=new da(La(ob(f)));return a._nextDay&&(a.add(1,"d"),a._nextDay=void 0),a}function t(a,b,c,d){return Za(a,b,c,d,!1)}function pb(a,b){var c,d;if(1===b.length&&E(b[0])&&(b=b[0]),!b.length)return t();c=b[0];for(d=1;d<b.length;++d)b[d].isValid()&&!b[d][a](c)||(c=b[d]);return c}function ua(a){a=eb(a);var b=a.year||0,c=a.quarter||0,d=a.month||0,e=a.week||0,f=a.day||0;this._milliseconds=+(a.millisecond||0)+1E3*(a.second||0)+6E4*(a.minute||0)+36E5*
(a.hour||0);this._days=+f+7*e;this._months=+d+3*c+12*b;this._data={};this._locale=S();this._bubble()}function Pa(a){return a instanceof ua}function qb(a,b){k(a,0,0,function(){var a=this.utcOffset(),d="+";return 0>a&&(a=-a,d="-"),d+I(~~(a/60),2)+b+I(~~a%60,2)})}function Qa(a,b){var c=(b||"").match(a)||[],c=((c[c.length-1]||[])+"").match(ac)||["-",0,0],d=+(60*c[1])+n(c[2]);return"+"===c[0]?d:-d}function Ra(a,b){var c,d;return b._isUTC?(c=b.clone(),d=(M(a)||ka(a)?+a:+t(a))-+c,c._d.setTime(+c._d+d),l.updateOffset(c,
!1),c):t(a).local()}function Sa(a){return 15*-Math.round(a._d.getTimezoneOffset()/15)}function rb(){return this.isValid()?this._isUTC&&0===this._offset:!1}function O(a,b){var c,d,e,f=a;e=null;Pa(a)?f={ms:a._milliseconds,d:a._days,M:a._months}:"number"==typeof a?(f={},b?f[b]=a:f.milliseconds=a):(e=bc.exec(a))?(c="-"===e[1]?-1:1,f={y:0,d:n(e[F])*c,h:n(e[v])*c,m:n(e[C])*c,s:n(e[K])*c,ms:n(e[T])*c}):(e=cc.exec(a))?(c="-"===e[1]?-1:1,f={y:V(e[2],c),M:V(e[3],c),d:V(e[4],c),h:V(e[5],c),m:V(e[6],c),s:V(e[7],
c),w:V(e[8],c)}):null==f?f={}:"object"==typeof f&&("from"in f||"to"in f)&&(e=t(f.from),f=t(f.to),e=e.isValid()&&f.isValid()?(f=Ra(f,e),e.isBefore(f)?c=sb(e,f):(c=sb(f,e),c.milliseconds=-c.milliseconds,c.months=-c.months),c):{milliseconds:0,months:0},f={},f.ms=e.milliseconds,f.M=e.months);return d=new ua(f),Pa(a)&&H(a,"_locale")&&(d._locale=a._locale),d}function V(a,b){var c=a&&parseFloat(a.replace(",","."));return(isNaN(c)?0:c)*b}function sb(a,b){var c={milliseconds:0,months:0};return c.months=b.month()-
a.month()+12*(b.year()-a.year()),a.clone().add(c.months,"M").isAfter(b)&&--c.months,c.milliseconds=+b-+a.clone().add(c.months,"M"),c}function tb(a,b){return function(c,d){var e,f;null===d||isNaN(+d)||(ub[b]||(lb("moment()."+b+"(period, number) is deprecated. Please use moment()."+b+"(number, period)."),ub[b]=!0),f=c,c=d,d=f);return c="string"==typeof c?+c:c,e=O(c,d),vb(this,e,a),this}}function vb(a,b,c,d){var e=b._milliseconds,f=b._days;b=b._months;a.isValid()&&(d=null==d?!0:d,e&&a._d.setTime(+a._d+
e*c),f&&(e=oa(a,"Date")+f*c,a.isValid()&&a._d["set"+(a._isUTC?"UTC":"")+"Date"](e)),b&&ib(a,oa(a,"Month")+b*c),d&&l.updateOffset(a,f||b))}function wb(a){var b;return void 0===a?this._locale._abbr:(b=S(a),null!=b&&(this._locale=b),this)}function xb(){return this._locale}function va(a,b){k(0,[a,a.length],0,b)}function yb(a,b,c,d,e){var f;null==a?a=ha(this,d,e).year:(f=U(a,d,e),b>f&&(b=f),a=nb(a,b,c,d,e),a=sa(a.year,0,a.dayOfYear),a=(this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),
this));return a}function Ta(){return this.hours()%12||12}function zb(a,b){k(a,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),b)})}function Ab(a,b){return b._meridiemParse}function dc(a,b){b[T]=n(1E3*("0."+a))}function Bb(a){return a}function Cb(a,b,c,d){var e=S();b=X().set(d,b);return e[c](b,a)}function ia(a,b,c,d,e){if("number"==typeof a&&(b=a,a=void 0),a=a||"",null!=b)return Cb(a,b,c,e);var f=[];for(b=0;d>b;b++)f[b]=Cb(a,b,c,e);return f}function Db(a,b,c,d){b=O(b,c);
return a._milliseconds+=d*b._milliseconds,a._days+=d*b._days,a._months+=d*b._months,a._bubble()}function Eb(a){return 0>a?Math.floor(a):Math.ceil(a)}function P(a){return function(){return this.as(a)}}function W(a){return function(){return this._data[a]}}function ec(a,b,c,d,e){return e.relativeTime(b||1,!!c,a,d)}function wa(){var a,b,c,d=Ua(this._milliseconds)/1E3,e=Ua(this._days),f=Ua(this._months);a=y(d/60);b=y(a/60);d%=60;a%=60;c=y(f/12);var f=f%12,g=this.asSeconds();return g?(0>g?"-":"")+"P"+(c?
c+"Y":"")+(f?f+"M":"")+(e?e+"D":"")+(b||a||d?"T":"")+(b?b+"H":"")+(a?a+"M":"")+(d?d+"S":""):"P0D"}var Xa,na,Ea=l.momentProperties=[],Fa=!1,R={},fa={},gb=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,pa=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Ha={},Z={},Fb=/\d/,z=/\d\d/,Gb=/\d{3}/,Va=/\d{4}/,xa=/[+-]?\d{6}/,u=/\d\d?/,Hb=/\d\d\d\d?/,Ib=/\d\d\d\d\d\d?/,ya=/\d{1,3}/,
Wa=/\d{1,4}/,za=/[+-]?\d{1,6}/,fc=/\d+/,Aa=/[+-]?\d+/,gc=/Z|[+-]\d\d:?\d\d/gi,Ba=/Z|[+-]\d\d(?::?\d\d)?/gi,ja=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Ia={},Ja={},B=0,J=1,F=2,v=3,C=4,K=5,T=6,Rb=7,Sb=8;k("M",["MM",2],"Mo",function(){return this.month()+1});k("MMM",0,0,function(a){return this.localeData().monthsShort(this,a)});k("MMMM",0,0,function(a){return this.localeData().months(this,a)});w("month","M");h("M",u);h("MM",u,
z);h("MMM",function(a,b){return b.monthsShortRegex(a)});h("MMMM",function(a,b){return b.monthsRegex(a)});r(["M","MM"],function(a,b){b[J]=n(a)-1});r(["MMM","MMMM"],function(a,b,c,d){d=c._locale.monthsParse(a,d,c._strict);null!=d?b[J]=d:q(c).invalidMonth=a});var Jb=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/,ub={};l.suppressDeprecationWarnings=!1;var Tb=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,Ub=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,
Vb=/Z|[+-]\d\d(?::?\d\d)?/,ra=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Ma=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",
/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Xb=/^\/?Date\((\-?\d+)/i;l.createFromInputFallback=D("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(a){a._d=new Date(a._i+(a._useUTC?" UTC":""))});k("Y",0,0,function(){var a=this.year();return 9999>=a?""+a:"+"+a});k(0,["YY",2],0,function(){return this.year()%
100});k(0,["YYYY",4],0,"year");k(0,["YYYYY",5],0,"year");k(0,["YYYYYY",6,!0],0,"year");w("year","y");h("Y",Aa);h("YY",u,z);h("YYYY",Wa,Va);h("YYYYY",za,xa);h("YYYYYY",za,xa);r(["YYYYY","YYYYYY"],B);r("YYYY",function(a,b){b[B]=2===a.length?l.parseTwoDigitYear(a):n(a)});r("YY",function(a,b){b[B]=l.parseTwoDigitYear(a)});r("Y",function(a,b){b[B]=parseInt(a,10)});l.parseTwoDigitYear=function(a){return n(a)+(68<n(a)?1900:2E3)};var Kb=Y("FullYear",!1);l.ISO_8601=function(){};var hc=D("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",
function(){var a=t.apply(null,arguments);return this.isValid()&&a.isValid()?this>a?this:a:ma()}),ic=D("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var a=t.apply(null,arguments);return this.isValid()&&a.isValid()?a>this?this:a:ma()});qb("Z",":");qb("ZZ","");h("Z",Ba);h("ZZ",Ba);r(["Z","ZZ"],function(a,b,c){c._useUTC=!0;c._tzm=Qa(Ba,a)});var ac=/([\+\-]|\d\d)/gi;l.updateOffset=function(){};var bc=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?\d*)?$/,
cc=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;O.fn=ua.prototype;var jc=tb(1,"add"),kc=tb(-1,"subtract");l.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";var Lb=D("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(a){return void 0===a?this.localeData():this.locale(a)});k(0,["gg",2],0,function(){return this.weekYear()%100});
k(0,["GG",2],0,function(){return this.isoWeekYear()%100});va("gggg","weekYear");va("ggggg","weekYear");va("GGGG","isoWeekYear");va("GGGGG","isoWeekYear");w("weekYear","gg");w("isoWeekYear","GG");h("G",Aa);h("g",Aa);h("GG",u,z);h("gg",u,z);h("GGGG",Wa,Va);h("gggg",Wa,Va);h("GGGGG",za,xa);h("ggggg",za,xa);ga(["gggg","ggggg","GGGG","GGGGG"],function(a,b,c,d){b[d.substr(0,2)]=n(a)});ga(["gg","GG"],function(a,b,c,d){b[d]=l.parseTwoDigitYear(a)});k("Q",0,"Qo","quarter");w("quarter","Q");h("Q",Fb);r("Q",
function(a,b){b[J]=3*(n(a)-1)});k("w",["ww",2],"wo","week");k("W",["WW",2],"Wo","isoWeek");w("week","w");w("isoWeek","W");h("w",u);h("ww",u,z);h("W",u);h("WW",u,z);ga(["w","ww","W","WW"],function(a,b,c,d){b[d.substr(0,1)]=n(a)});k("D",["DD",2],"Do","date");w("date","D");h("D",u);h("DD",u,z);h("Do",function(a,b){return a?b._ordinalParse:b._ordinalParseLenient});r(["D","DD"],F);r("Do",function(a,b){b[F]=n(a.match(u)[0],10)});var Mb=Y("Date",!0);k("d",0,"do","day");k("dd",0,0,function(a){return this.localeData().weekdaysMin(this,
a)});k("ddd",0,0,function(a){return this.localeData().weekdaysShort(this,a)});k("dddd",0,0,function(a){return this.localeData().weekdays(this,a)});k("e",0,0,"weekday");k("E",0,0,"isoWeekday");w("day","d");w("weekday","e");w("isoWeekday","E");h("d",u);h("e",u);h("E",u);h("dd",ja);h("ddd",ja);h("dddd",ja);ga(["dd","ddd","dddd"],function(a,b,c,d){d=c._locale.weekdaysParse(a,d,c._strict);null!=d?b.d=d:q(c).invalidWeekday=a});ga(["d","e","E"],function(a,b,c,d){b[d]=n(a)});k("DDD",["DDDD",3],"DDDo","dayOfYear");
w("dayOfYear","DDD");h("DDD",ya);h("DDDD",Gb);r(["DDD","DDDD"],function(a,b,c){c._dayOfYear=n(a)});k("H",["HH",2],0,"hour");k("h",["hh",2],0,Ta);k("hmm",0,0,function(){return""+Ta.apply(this)+I(this.minutes(),2)});k("hmmss",0,0,function(){return""+Ta.apply(this)+I(this.minutes(),2)+I(this.seconds(),2)});k("Hmm",0,0,function(){return""+this.hours()+I(this.minutes(),2)});k("Hmmss",0,0,function(){return""+this.hours()+I(this.minutes(),2)+I(this.seconds(),2)});zb("a",!0);zb("A",!1);w("hour","h");h("a",
Ab);h("A",Ab);h("H",u);h("h",u);h("HH",u,z);h("hh",u,z);h("hmm",Hb);h("hmmss",Ib);h("Hmm",Hb);h("Hmmss",Ib);r(["H","HH"],v);r(["a","A"],function(a,b,c){c._isPm=c._locale.isPM(a);c._meridiem=a});r(["h","hh"],function(a,b,c){b[v]=n(a);q(c).bigHour=!0});r("hmm",function(a,b,c){var d=a.length-2;b[v]=n(a.substr(0,d));b[C]=n(a.substr(d));q(c).bigHour=!0});r("hmmss",function(a,b,c){var d=a.length-4,e=a.length-2;b[v]=n(a.substr(0,d));b[C]=n(a.substr(d,2));b[K]=n(a.substr(e));q(c).bigHour=!0});r("Hmm",function(a,
b,c){c=a.length-2;b[v]=n(a.substr(0,c));b[C]=n(a.substr(c))});r("Hmmss",function(a,b,c){c=a.length-4;var d=a.length-2;b[v]=n(a.substr(0,c));b[C]=n(a.substr(c,2));b[K]=n(a.substr(d))});var lc=Y("Hours",!0);k("m",["mm",2],0,"minute");w("minute","m");h("m",u);h("mm",u,z);r(["m","mm"],C);var mc=Y("Minutes",!1);k("s",["ss",2],0,"second");w("second","s");h("s",u);h("ss",u,z);r(["s","ss"],K);var nc=Y("Seconds",!1);k("S",0,0,function(){return~~(this.millisecond()/100)});k(0,["SS",2],0,function(){return~~(this.millisecond()/
10)});k(0,["SSS",3],0,"millisecond");k(0,["SSSS",4],0,function(){return 10*this.millisecond()});k(0,["SSSSS",5],0,function(){return 100*this.millisecond()});k(0,["SSSSSS",6],0,function(){return 1E3*this.millisecond()});k(0,["SSSSSSS",7],0,function(){return 1E4*this.millisecond()});k(0,["SSSSSSSS",8],0,function(){return 1E5*this.millisecond()});k(0,["SSSSSSSSS",9],0,function(){return 1E6*this.millisecond()});w("millisecond","ms");h("S",ya,Fb);h("SS",ya,z);h("SSS",ya,Gb);var G;for(G="SSSS";9>=G.length;G+=
"S")h(G,fc);for(G="S";9>=G.length;G+="S")r(G,dc);var oc=Y("Milliseconds",!1);k("z",0,0,"zoneAbbr");k("zz",0,0,"zoneName");var g=da.prototype;g.add=jc;g.calendar=function(a,b){var c=a||t(),d=Ra(c,this).startOf("day"),d=this.diff(d,"days",!0),d=-6>d?"sameElse":-1>d?"lastWeek":0>d?"lastDay":1>d?"sameDay":2>d?"nextDay":7>d?"nextWeek":"sameElse",e=b&&(N(b[d])?b[d]():b[d]);return this.format(e||this.localeData().calendar(d,this,t(c)))};g.clone=function(){return new da(this)};g.diff=function(a,b,c){var d,
e;if(this.isValid())if(a=Ra(a,this),a.isValid()){d=6E4*(a.utcOffset()-this.utcOffset());b=A(b);if("year"===b||"month"===b||"quarter"===b){var f;d=12*(a.year()-this.year())+(a.month()-this.month());var g=this.clone().add(d,"months");a=(0>a-g?(e=this.clone().add(d-1,"months"),f=(a-g)/(g-e)):(e=this.clone().add(d+1,"months"),f=(a-g)/(e-g)),-(d+f));"quarter"===b?a/=3:"year"===b&&(a/=12)}else e=this-a,a="second"===b?e/1E3:"minute"===b?e/6E4:"hour"===b?e/36E5:"day"===b?(e-d)/864E5:"week"===b?(e-d)/6048E5:
e;b=c?a:y(a)}else b=NaN;else b=NaN;return b};g.endOf=function(a){return a=A(a),void 0===a||"millisecond"===a?this:this.startOf(a).add(1,"isoWeek"===a?"week":a).subtract(1,"ms")};g.format=function(a){a=Ga(this,a||l.defaultFormat);return this.localeData().postformat(a)};g.from=function(a,b){return this.isValid()&&(M(a)&&a.isValid()||t(a).isValid())?O({to:this,from:a}).locale(this.locale()).humanize(!b):this.localeData().invalidDate()};g.fromNow=function(a){return this.from(t(),a)};g.to=function(a,b){return this.isValid()&&
(M(a)&&a.isValid()||t(a).isValid())?O({from:this,to:a}).locale(this.locale()).humanize(!b):this.localeData().invalidDate()};g.toNow=function(a){return this.to(t(),a)};g.get=fb;g.invalidAt=function(){return q(this).overflow};g.isAfter=function(a,b){var c=M(a)?a:t(a);return this.isValid()&&c.isValid()?(b=A(x(b)?"millisecond":b),"millisecond"===b?+this>+c:+c<+this.clone().startOf(b)):!1};g.isBefore=function(a,b){var c=M(a)?a:t(a);return this.isValid()&&c.isValid()?(b=A(x(b)?"millisecond":b),"millisecond"===
b?+c>+this:+this.clone().endOf(b)<+c):!1};g.isBetween=function(a,b,c){return this.isAfter(a,c)&&this.isBefore(b,c)};g.isSame=function(a,b){var c,d=M(a)?a:t(a);return this.isValid()&&d.isValid()?(b=A(b||"millisecond"),"millisecond"===b?+this===+d:(c=+d,+this.clone().startOf(b)<=c&&c<=+this.clone().endOf(b))):!1};g.isSameOrAfter=function(a,b){return this.isSame(a,b)||this.isAfter(a,b)};g.isSameOrBefore=function(a,b){return this.isSame(a,b)||this.isBefore(a,b)};g.isValid=function(){return Ca(this)};
g.lang=Lb;g.locale=wb;g.localeData=xb;g.max=ic;g.min=hc;g.parsingFlags=function(){return la({},q(this))};g.set=fb;g.startOf=function(a){switch(a=A(a)){case "year":this.month(0);case "quarter":case "month":this.date(1);case "week":case "isoWeek":case "day":this.hours(0);case "hour":this.minutes(0);case "minute":this.seconds(0);case "second":this.milliseconds(0)}return"week"===a&&this.weekday(0),"isoWeek"===a&&this.isoWeekday(1),"quarter"===a&&this.month(3*Math.floor(this.month()/3)),this};g.subtract=
kc;g.toArray=function(){return[this.year(),this.month(),this.date(),this.hour(),this.minute(),this.second(),this.millisecond()]};g.toObject=function(){return{years:this.year(),months:this.month(),date:this.date(),hours:this.hours(),minutes:this.minutes(),seconds:this.seconds(),milliseconds:this.milliseconds()}};g.toDate=function(){return this._offset?new Date(+this):this._d};g.toISOString=function(){var a=this.clone().utc();return 0<a.year()&&9999>=a.year()?N(Date.prototype.toISOString)?this.toDate().toISOString():
Ga(a,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):Ga(a,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")};g.toJSON=function(){return this.isValid()?this.toISOString():"null"};g.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")};g.unix=function(){return Math.floor(+this/1E3)};g.valueOf=function(){return+this._d-6E4*(this._offset||0)};g.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}};g.year=Kb;g.isLeapYear=function(){return aa(this.year())};
g.weekYear=function(a){return yb.call(this,a,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)};g.isoWeekYear=function(a){return yb.call(this,a,this.isoWeek(),this.isoWeekday(),1,4)};g.quarter=g.quarters=function(a){return null==a?Math.ceil((this.month()+1)/3):this.month(3*(a-1)+this.month()%3)};g.month=jb;g.daysInMonth=function(){return Ka(this.year(),this.month())};g.week=g.weeks=function(a){var b=this.localeData().week(this);return null==a?b:this.add(7*(a-b),"d")};
g.isoWeek=g.isoWeeks=function(a){var b=ha(this,1,4).week;return null==a?b:this.add(7*(a-b),"d")};g.weeksInYear=function(){var a=this.localeData()._week;return U(this.year(),a.dow,a.doy)};g.isoWeeksInYear=function(){return U(this.year(),1,4)};g.date=Mb;g.day=g.days=function(a){if(!this.isValid())return null!=a?this:NaN;var b=this._isUTC?this._d.getUTCDay():this._d.getDay();if(null!=a)var c=a,d=this.localeData(),b=(a="string"!=typeof c?c:isNaN(c)?(c=d.weekdaysParse(c),"number"==typeof c?c:null):parseInt(c,
10),this.add(a-b,"d"));return b};g.weekday=function(a){if(!this.isValid())return null!=a?this:NaN;var b=(this.day()+7-this.localeData()._week.dow)%7;return null==a?b:this.add(a-b,"d")};g.isoWeekday=function(a){return this.isValid()?null==a?this.day()||7:this.day(this.day()%7?a:a-7):null!=a?this:NaN};g.dayOfYear=function(a){var b=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864E5)+1;return null==a?b:this.add(a-b,"d")};g.hour=g.hours=lc;g.minute=g.minutes=mc;g.second=g.seconds=
nc;g.millisecond=g.milliseconds=oc;g.utcOffset=function(a,b){var c,d=this._offset||0;return this.isValid()?null!=a?("string"==typeof a?a=Qa(Ba,a):16>Math.abs(a)&&(a*=60),!this._isUTC&&b&&(c=Sa(this)),this._offset=a,this._isUTC=!0,null!=c&&this.add(c,"m"),d!==a&&(!b||this._changeInProgress?vb(this,O(a-d,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,l.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?d:Sa(this):null!=a?this:NaN};g.utc=function(a){return this.utcOffset(0,
a)};g.local=function(a){return this._isUTC&&(this.utcOffset(0,a),this._isUTC=!1,a&&this.subtract(Sa(this),"m")),this};g.parseZone=function(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(Qa(gc,this._i)),this};g.hasAlignedHourOffset=function(a){return this.isValid()?(a=a?t(a).utcOffset():0,0===(this.utcOffset()-a)%60):!1};g.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()};g.isDSTShifted=
function(){if(!x(this._isDSTShifted))return this._isDSTShifted;var a={};if(Da(a,this),a=ob(a),a._a){var b=a._isUTC?X(a._a):t(a._a);this._isDSTShifted=this.isValid()&&0<$a(a._a,b.toArray())}else this._isDSTShifted=!1;return this._isDSTShifted};g.isLocal=function(){return this.isValid()?!this._isUTC:!1};g.isUtcOffset=function(){return this.isValid()?this._isUTC:!1};g.isUtc=rb;g.isUTC=rb;g.zoneAbbr=function(){return this._isUTC?"UTC":""};g.zoneName=function(){return this._isUTC?"Coordinated Universal Time":
""};g.dates=D("dates accessor is deprecated. Use date instead.",Mb);g.months=D("months accessor is deprecated. Use month instead",jb);g.years=D("years accessor is deprecated. Use year instead",Kb);g.zone=D("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",function(a,b){return null!=a?("string"!=typeof a&&(a=-a),this.utcOffset(a,b),this):-this.utcOffset()});var m=ab.prototype;m._calendar={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",
lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};m.calendar=function(a,b,c){a=this._calendar[a];return N(a)?a.call(b,c):a};m._longDateFormat={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};m.longDateFormat=function(a){var b=this._longDateFormat[a],c=this._longDateFormat[a.toUpperCase()];return b||!c?b:(this._longDateFormat[a]=c.replace(/MMMM|MM|DD|dddd/g,function(a){return a.slice(1)}),this._longDateFormat[a])};
m._invalidDate="Invalid date";m.invalidDate=function(){return this._invalidDate};m._ordinal="%d";m.ordinal=function(a){return this._ordinal.replace("%d",a)};m._ordinalParse=/\d{1,2}/;m.preparse=Bb;m.postformat=Bb;m._relativeTime={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};m.relativeTime=function(a,b,c,d){var e=this._relativeTime[c];return N(e)?e(a,b,c,d):e.replace(/%d/i,
a)};m.pastFuture=function(a,b){var c=this._relativeTime[0<a?"future":"past"];return N(c)?c(b):c.replace(/%s/i,b)};m.set=function(a){var b,c;for(c in a)b=a[c],N(b)?this[c]=b:this["_"+c]=b;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)};m.months=function(a,b){return E(this._months)?this._months[a.month()]:this._months[Jb.test(b)?"format":"standalone"][a.month()]};m._months="January February March April May June July August September October November December".split(" ");
m.monthsShort=function(a,b){return E(this._monthsShort)?this._monthsShort[a.month()]:this._monthsShort[Jb.test(b)?"format":"standalone"][a.month()]};m._monthsShort="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ");m.monthsParse=function(a,b,c){var d,e,f;this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]);for(d=0;12>d;d++)if((e=X([2E3,d]),c&&!this._longMonthsParse[d]&&(this._longMonthsParse[d]=new RegExp("^"+this.months(e,"").replace(".","")+"$",
"i"),this._shortMonthsParse[d]=new RegExp("^"+this.monthsShort(e,"").replace(".","")+"$","i")),c||this._monthsParse[d]||(f="^"+this.months(e,"")+"|^"+this.monthsShort(e,""),this._monthsParse[d]=new RegExp(f.replace(".",""),"i")),c&&"MMMM"===b&&this._longMonthsParse[d].test(a))||c&&"MMM"===b&&this._shortMonthsParse[d].test(a)||!c&&this._monthsParse[d].test(a))return d};m._monthsRegex=ja;m.monthsRegex=function(a){return this._monthsParseExact?(H(this,"_monthsRegex")||kb.call(this),a?this._monthsStrictRegex:
this._monthsRegex):this._monthsStrictRegex&&a?this._monthsStrictRegex:this._monthsRegex};m._monthsShortRegex=ja;m.monthsShortRegex=function(a){return this._monthsParseExact?(H(this,"_monthsRegex")||kb.call(this),a?this._monthsShortStrictRegex:this._monthsShortRegex):this._monthsShortStrictRegex&&a?this._monthsShortStrictRegex:this._monthsShortRegex};m.week=function(a){return ha(a,this._week.dow,this._week.doy).week};m._week={dow:0,doy:6};m.firstDayOfYear=function(){return this._week.doy};m.firstDayOfWeek=
function(){return this._week.dow};m.weekdays=function(a,b){return E(this._weekdays)?this._weekdays[a.day()]:this._weekdays[this._weekdays.isFormat.test(b)?"format":"standalone"][a.day()]};m._weekdays="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" ");m.weekdaysMin=function(a){return this._weekdaysMin[a.day()]};m._weekdaysMin="Su Mo Tu We Th Fr Sa".split(" ");m.weekdaysShort=function(a){return this._weekdaysShort[a.day()]};m._weekdaysShort="Sun Mon Tue Wed Thu Fri Sat".split(" ");
m.weekdaysParse=function(a,b,c){var d,e,f;this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]);for(d=0;7>d;d++)if((e=t([2E3,1]).day(d),c&&!this._fullWeekdaysParse[d]&&(this._fullWeekdaysParse[d]=new RegExp("^"+this.weekdays(e,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[d]=new RegExp("^"+this.weekdaysShort(e,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[d]=new RegExp("^"+this.weekdaysMin(e,"").replace(".",
".?")+"$","i")),this._weekdaysParse[d]||(f="^"+this.weekdays(e,"")+"|^"+this.weekdaysShort(e,"")+"|^"+this.weekdaysMin(e,""),this._weekdaysParse[d]=new RegExp(f.replace(".",""),"i")),c&&"dddd"===b&&this._fullWeekdaysParse[d].test(a))||c&&"ddd"===b&&this._shortWeekdaysParse[d].test(a)||c&&"dd"===b&&this._minWeekdaysParse[d].test(a)||!c&&this._weekdaysParse[d].test(a))return d};m.isPM=function(a){return"p"===(a+"").toLowerCase().charAt(0)};m._meridiemParse=/[ap]\.?m?\.?/i;m.meridiem=function(a,b,c){return 11<
a?c?"pm":"PM":c?"am":"AM"};ea("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(a){var b=a%10,b=1===n(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return a+b}});l.lang=D("moment.lang is deprecated. Use moment.locale instead.",ea);l.langData=D("moment.langData is deprecated. Use moment.localeData instead.",S);var L=Math.abs,pc=P("ms"),qc=P("s"),rc=P("m"),sc=P("h"),tc=P("d"),uc=P("w"),vc=P("M"),wc=P("y"),xc=W("milliseconds"),yc=W("seconds"),zc=W("minutes"),Ac=W("hours"),Bc=W("days"),
Cc=W("months"),Dc=W("years"),ca=Math.round,Q={s:45,m:45,h:22,d:26,M:11},Ua=Math.abs,p=ua.prototype;p.abs=function(){var a=this._data;return this._milliseconds=L(this._milliseconds),this._days=L(this._days),this._months=L(this._months),a.milliseconds=L(a.milliseconds),a.seconds=L(a.seconds),a.minutes=L(a.minutes),a.hours=L(a.hours),a.months=L(a.months),a.years=L(a.years),this};p.add=function(a,b){return Db(this,a,b,1)};p.subtract=function(a,b){return Db(this,a,b,-1)};p.as=function(a){var b,c,d=this._milliseconds;
if(a=A(a),"month"===a||"year"===a)return b=this._days+d/864E5,c=this._months+4800*b/146097,"month"===a?c:c/12;switch(b=this._days+Math.round(146097*this._months/4800),a){case "week":return b/7+d/6048E5;case "day":return b+d/864E5;case "hour":return 24*b+d/36E5;case "minute":return 1440*b+d/6E4;case "second":return 86400*b+d/1E3;case "millisecond":return Math.floor(864E5*b)+d;default:throw Error("Unknown unit "+a);}};p.asMilliseconds=pc;p.asSeconds=qc;p.asMinutes=rc;p.asHours=sc;p.asDays=tc;p.asWeeks=
uc;p.asMonths=vc;p.asYears=wc;p.valueOf=function(){return this._milliseconds+864E5*this._days+this._months%12*2592E6+31536E6*n(this._months/12)};p._bubble=function(){var a,b,c,d,e,f=this._milliseconds,g=this._days,h=this._months,k=this._data;return 0<=f&&0<=g&&0<=h||0>=f&&0>=g&&0>=h||(f+=864E5*Eb(146097*h/4800+g),g=0,h=0),k.milliseconds=f%1E3,a=y(f/1E3),k.seconds=a%60,b=y(a/60),k.minutes=b%60,c=y(b/60),k.hours=c%24,g+=y(c/24),e=y(4800*g/146097),h+=e,g-=Eb(146097*e/4800),d=y(h/12),h%=12,k.days=g,k.months=
h,k.years=d,this};p.get=function(a){return a=A(a),this[a+"s"]()};p.milliseconds=xc;p.seconds=yc;p.minutes=zc;p.hours=Ac;p.days=Bc;p.weeks=function(){return y(this.days()/7)};p.months=Cc;p.years=Dc;p.humanize=function(a){var b=this.localeData(),c;c=!a;var d=O(this).abs(),e=ca(d.as("s")),f=ca(d.as("m")),g=ca(d.as("h")),h=ca(d.as("d")),k=ca(d.as("M")),d=ca(d.as("y")),e=e<Q.s&&["s",e]||1>=f&&["m"]||f<Q.m&&["mm",f]||1>=g&&["h"]||g<Q.h&&["hh",g]||1>=h&&["d"]||h<Q.d&&["dd",h]||1>=k&&["M"]||k<Q.M&&["MM",
k]||1>=d&&["y"]||["yy",d];c=(e[2]=c,e[3]=0<+this,e[4]=b,ec.apply(null,e));return a&&(c=b.pastFuture(+this,c)),b.postformat(c)};p.toISOString=wa;p.toString=wa;p.toJSON=wa;p.locale=wb;p.localeData=xb;p.toIsoString=D("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",wa);p.lang=Lb;k("X",0,0,"unix");k("x",0,0,"valueOf");h("x",Aa);h("X",/[+-]?\d+(\.\d{1,3})?/);r("X",function(a,b,c){c._d=new Date(1E3*parseFloat(a,10))});r("x",function(a,b,c){c._d=new Date(n(a))});l.version=
"2.11.2";Xa=t;l.fn=g;l.min=function(){var a=[].slice.call(arguments,0);return pb("isBefore",a)};l.max=function(){var a=[].slice.call(arguments,0);return pb("isAfter",a)};l.now=function(){return Date.now?Date.now():+new Date};l.utc=X;l.unix=function(a){return t(1E3*a)};l.months=function(a,b){return ia(a,b,"months",12,"month")};l.isDate=ka;l.locale=ea;l.invalid=ma;l.duration=O;l.isMoment=M;l.weekdays=function(a,b){return ia(a,b,"weekdays",7,"day")};l.parseZone=function(){return t.apply(null,arguments).parseZone()};
l.localeData=S;l.isDuration=Pa;l.monthsShort=function(a,b){return ia(a,b,"monthsShort",12,"month")};l.weekdaysMin=function(a,b){return ia(a,b,"weekdaysMin",7,"day")};l.defineLocale=db;l.weekdaysShort=function(a,b){return ia(a,b,"weekdaysShort",7,"day")};l.normalizeUnits=A;l.relativeTimeThreshold=function(a,b){return void 0===Q[a]?!1:void 0===b?Q[a]:(Q[a]=b,!0)};l.prototype=g;return l});

//==r8_template.js==//
(function(){var k={};null==k.evalEx&&(k.evalEx=function(a){return eval(a)});null==Array.prototype.pop&&(Array.prototype.pop=function(){return 0===this.length?void 0:this[--this.length]});null==Array.prototype.push&&(Array.prototype.push=function(){for(var a=0;a<arguments.length;++a)this[this.length]=arguments[a];return this.length});k.parseTemplate=function(a,b,c){null==c&&(c=k.parseTemplate_etc);var f,d;f=c;d=a;d=d.replace(/\t/g,"    ");d=d.replace(/\r\n/g,"\n");d=d.replace(/\r/g,"\n");d=d.replace(/^(\s*\S*(\s+\S+)*)\s*$/,
"$1");for(var p=["var TrimPath_Template_TEMP \x3d function(_OUT, _CONTEXT, _FLAGS) { with (_CONTEXT) {"],q={stack:[],line:1},h=-1;h+1<d.length;){for(var g=h,g=d.indexOf("{",g+1);0<=g;){var e=d.indexOf("}",g+1);if(e=d.substring(g,e).match(/^\{(cdata|minify|eval)/)){var e=e[1],l=g+e.length+1,m=d.indexOf("}",l);if(0<=m){var l=0>=m-l?"{/"+e+"}":d.substring(l+1,m),n=d.indexOf(l,m+1);0<=n&&(t(d.substring(h+1,g),p),h=d.substring(m+1,n),"cdata"==e?u(h,p):"minify"==e?(e=h,e=e.replace(/^\s+/g,""),e=e.replace(/\s+$/g,
""),e=e.replace(/\s+/g," "),e=e.replace(/^(\s*\S*(\s+\S+)*)\s*$/,"$1"),u(e,p)):"eval"==e&&null!=h&&0<h.length&&p.push("_OUT.write( (function() { "+h+" })() );"),g=h=n+l.length-1)}}else if("$"!=d.charAt(g-1)&&"\\"!=d.charAt(g-1)&&(e="/"==d.charAt(g+1)?2:1,0==d.substring(g+e,g+10+e).search(k.parseTemplate_etc.statementTag)))break;g=d.indexOf("{",g+1)}if(0>g)break;e=d.indexOf("}",g+1);if(0>e)break;t(d.substring(h+1,g),p);var n=d.substring(g,e+1),m=q,h=p,r=b,v=f,g=n.slice(1,-1).split(" "),l=v.statementDef[g[0]];
if(null==l)t(n,h);else{if(0>l.delta){if(0>=m.stack.length)throw new v.ParseError(r,m.line,"close tag does not match any previous statement: "+n);m.stack.pop()}0<l.delta&&m.stack.push(n);if(null!=l.paramMin&&l.paramMin>=g.length)throw new v.ParseError(r,m.line,"statement needs more parameters: "+n);null!=l.prefixFunc?h.push(l.prefixFunc(g,m,r,v)):h.push(l.prefix);if(null!=l.suffix){if(1>=g.length)null!=l.paramDefault&&h.push(l.paramDefault);else for(n=1;n<g.length;n++)1<n&&h.push(" "),h.push(g[n]);
h.push(l.suffix)}}h=e}t(d.substring(h+1),p);if(0!=q.stack.length)throw new f.ParseError(b,q.line,"unclosed, unmatched statement(s): "+q.stack.join(","));p.push("}}; TrimPath_Template_TEMP");f=p.join("");d=k.evalEx(f,b,1);return null!=d?new c.Template(b,a,f,d,c):null};k.parseTemplate_etc={};k.parseTemplate_etc.statementTag="forelse|for|if|elseif|else|var|macro";k.parseTemplate_etc.statementDef={"if":{delta:1,prefix:"if ( (function(){ try{ return (",suffix:");}catch(e){return false;} })() ) {",paramMin:1},
"else":{delta:0,prefix:"} else {"},elseif:{delta:0,prefix:"} else if ( (function(){ try{ return (",suffix:");}catch(e){return false;} })() ) {",paramDefault:"true"},"/if":{delta:-1,prefix:"}"},"for":{delta:1,paramMin:3,prefixFunc:function(a,b,c,f){if("in"!=a[2])throw new f.ParseError(c,b.line,"bad for loop statement: "+a.join(" "));b=a[1];c="__LIST__"+b;return["var ",c," \x3d ",a[3],";var __LENGTH_STACK__;if (typeof(__LENGTH_STACK__) \x3d\x3d 'undefined' || !__LENGTH_STACK__.length) __LENGTH_STACK__ \x3d new Array();__LENGTH_STACK__[__LENGTH_STACK__.length] \x3d 0;if ((",
c,") !\x3d null) { var ",b,"_ct \x3d 0;for (var ",b,"_index in ",c,") { ",b,"_ct++;if (typeof(",c,"[",b,"_index]) \x3d\x3d 'function') {continue;}__LENGTH_STACK__[__LENGTH_STACK__.length - 1]++;var ",b," \x3d ",c,"[",b,"_index];"].join("")}},forelse:{delta:0,prefix:"} } if (__LENGTH_STACK__[__LENGTH_STACK__.length - 1] \x3d\x3d 0) { if (",suffix:") {",paramDefault:"true"},"/for":{delta:-1,prefix:"} }; delete __LENGTH_STACK__[__LENGTH_STACK__.length - 1];"},"var":{delta:0,prefix:"var ",suffix:";"},
macro:{delta:1,prefixFunc:function(a,b,c,f){b=a[1].split("(")[0];return["var ",b," \x3d function",a.slice(1).join(" ").substring(b.length),"{ var _OUT_arr \x3d []; var _OUT \x3d { write: function(m) { if (m) _OUT_arr.push(m); } }; "].join("")}},"/macro":{delta:-1,prefix:" return _OUT_arr.join(''); };"}};k.parseTemplate_etc.modifierDef={eat:function(a){return""},escape:function(a){return String(a).replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;").replace(/>/g,"\x26gt;")},capitalize:function(a){return String(a).toUpperCase()},
"default":function(a,b){return null!=a?a:b}};k.parseTemplate_etc.modifierDef.h=k.parseTemplate_etc.modifierDef.escape;k.parseTemplate_etc.Template=function(a,b,c,f,d){this.process=function(a,b){null==a&&(a={});null==a._MODIFIERS&&(a._MODIFIERS={});null==a.defined&&(a.defined=function(b){return void 0!=a[b]});for(var c in d.modifierDef)null==a._MODIFIERS[c]&&(a._MODIFIERS[c]=d.modifierDef[c]);null==b&&(b={});b.onerror||(b.onerror=k.onerror);var g=[];c={write:function(a){void 0!=a&&g.push(a)}};try{f(c,
a,b)}catch(e){if(1==b.throwExceptions)throw e;c=new String(g.join("")+"[ERROR: template: \x3cpre\x3e"+(e.toString()+";\n "+e.message+";\n "+e.name+";\n "+(e.stack||"no stack trace")+";\n "+(e.description||"no further description")+";\n "+(e.fileName||"no file name")+";\n "+(e.lineNumber||"no line number"))+"\x3c/pre\x3e]");c.exception=e;return c}return g.join("")};this.name=a;this.source=b;this.sourceFunc=c;this.toString=function(){return"TrimPath.Template ["+a+"]"}};k.parseTemplate_etc.ParseError=
function(a,b,c){this.name=a;this.line=b;this.message=c};k.parseTemplate_etc.ParseError.prototype.toString=function(){return"TrimPath template ParseError in "+this.name+": line "+this.line+", "+this.message};k.onerror=function(a,b,c){1==c.throwExceptions&&console.log("[R8Template] ",a)};var t=function(a,b){if(!(0>=a.length)){for(var c=0,f=a.length-1;c<a.length&&"\n"==a.charAt(c);)c++;for(;0<=f&&(" "==a.charAt(f)||"\t"==a.charAt(f));)f--;f<c&&(f=c);if(0<c){b.push('if (_FLAGS.keepWhitespace \x3d\x3d true) _OUT.write("');
var d=a.substring(0,c).replace("\n","\\n");"\n"==d.charAt(d.length-1)&&(d=d.substring(0,d.length-1));b.push(d);b.push('");')}c=a.substring(c,f+1).split("\n");for(d=0;d<c.length;d++){for(var k=c[d],q=b,h="}",g=-1;g+h.length<k.length;){var e="${",l="}",m=k.indexOf(e,g+h.length);if(0>m)break;"%"==k.charAt(m+2)&&(e="${%",l="%}");var n=k.indexOf(l,m+e.length);if(0>n)break;u(k.substring(g+h.length,m),q);var h=k.substring(m+e.length,n).replace(/\|\|/g,"#@@#").split("|"),r;for(r in h)h[r].replace&&(h[r]=
h[r].replace(/#@@#/g,"||"));q.push("try{ _OUT.write(");w(h,h.length-1,q);q.push("); }catch(e){ _FLAGS.onerror(e, _OUT, _FLAGS); }");g=n;h=l}u(k.substring(g+h.length),q);d<c.length-1&&b.push('_OUT.write("\\n");\n')}f+1<a.length&&(b.push('if (_FLAGS.keepWhitespace \x3d\x3d true) _OUT.write("'),d=a.substring(f+1).replace("\n","\\n"),"\n"==d.charAt(d.length-1)&&(d=d.substring(0,d.length-1)),b.push(d),b.push('");'))}},u=function(a,b){null==a||0>=a.length||(a=a.replace(/\\/g,"\\\\"),a=a.replace(/\n/g,"\\n"),
a=a.replace(/"/g,'\\"'),b.push('_OUT.write("'),b.push(a),b.push('");'))},w=function(a,b,c){var f=a[b];0>=b?c.push(f):(f=f.split(":"),c.push('_MODIFIERS["'),c.push(f[0]),c.push('"]('),w(a,b-1,c),1<f.length&&(c.push(","),c.push(f[1])),c.push(")"))};k.parseDOMTemplate=function(a,b,c){null==b&&(b=document);b=b.getElementById(a);var f=b.value;null==f&&(f=b.innerHTML);f=f.replace(/&lt;/g,"\x3c").replace(/&gt;/g,"\x3e");return k.parseTemplate(f,a,c)};k.processDOMTemplate=function(a,b,c,f,d){return k.parseDOMTemplate(a,
f,d).process(b,c)};window.template_engine_trimpath_compileTemplate=function(a){var b=null,c=null,f=R8.hasValue(a.throwExceptions)?a.throwExceptions:!0;try{if(a.query){var d=document.querySelector(a.query);if(null==d)return;c=d.value?d.value:d.text;c||(c=d.innerHTML);null!=d&&(b=k.parseTemplate(c))}else a.content&&(b=k.parseTemplate(a.content));return b}catch(p){f&&console.log(p)}};window.template_engine_trimpath_renderTemplate=function(a){var b=a.template,c=R8.hasValue(a.throwExceptions)?a.throwExceptions:
!0;try{b||(b=template_engine_trimpath_compileTemplate(a))}catch(f){c&&console.log(f)}return b?b.process(a.model,{throwExceptions:c,keepWhitespace:!1}):""}})();

//==r8_services.js==//
(function(){function t(a,b){function c(c,d){d.valid_image=c;if(0==--g){var q=[];R8.each(a,function(a,b){a.valid_image&&q.push(a)});b(q)}}var g=a.length;0==g&&b(a);R8.each(a,function(a,b){var g=null;a.media&&0<a.media.length?g=a.media[0].url:a.variants&&0<a.variants.length&&a.variants[0].media&&0<a.variants[0].media.length&&(g=a.variants[0].media[0].url);var d=new Image;d.onload=function(b){c(!0,a)};d.onerror=function(b){c(!1,a)};d.src=g})}function e(a){var b="",c;for(c in a)b=null==a[c]?b+(c+"\x3d\x26"):
b+(c+"\x3d"+a[c]+"\x26");return b}function m(a){var b={},c=a.geo_point,g=a.geo_distance,d=a.store_codes,p=a.location_codes;a=a.divisions;var e=!1;c&&(b.lat=c.lat,b.lng=c.lng,e=b.lat&&b.lng);g&&(g.units||(g.units="MI"),b.radius=g.radius,b.units=g.units);d&&(b.store_codes=d,e=b.store_codes&&0<b.store_codes.length);p&&(b.location_codes=p,e=b.location_codes&&0<b.location_codes.length);a&&(b.divisions=a);return e?b:null}function u(a,b){b=b||{};var c=b.type,g=b.source,d=b.unique?b.unique:[],e=b.data,f=
d?0<d.length:!1;g||(g=a.ctx?a.ctx.pluginType:null);if(g&&e&&c){var k=null;if(f){var h=a.getId?a.getId():a.id;h||(h="noid_");k=h;R8.each(d,function(a,c){e[a]?k+="_"+e[a]:b[a]&&(k+="_"+e[a])})}R8.debug("sendAnalytics[type:"+c+"][unique:"+d+"][cachekey:"+k+"]Exists("+(void 0!=n[k])+")");if(!f||!n[k])try{var l=(new Date).getTime()-R8.getLoadedAt(),m=e.store_code?e.store_code:R8Services.getActiveLocation()?R8Services.getActiveLocation().location_code:null,r={type:c,store_code:m,source:g,lead_time:l,slug_id:a.ctx?
a.ctx.displaySlugId:null,user_device_id:w()};e&&R8.each(e,function(a,b){r[b]=a});f&&(n[k]=!0);R8.Analytics.capture(r,b.callback)}catch(v){R8.debug(v)}}else R8.debug("sendAnalytics - missing [source:"+!g+"][data:"+!e+"][(type:"+!c+")]")}function w(){var a=R8.getCookie({key:"r8d"});return a&&""!=a?a:null}function x(a){"string"===typeof a&&(a=document.getElementById(a));if(a instanceof HTMLElement)return a;a&&console.error("Parent should be either string (div id) or HTMLElement");return null}function y(a){if(a.message&&
a.message.name){a.message.respondWith=a.respondWith;a.eventCallback=function(a){d.postMessageToParent(a.response,a.event.eventId)};var b=d.parentMessageListeners[a.message.name];b&&R8.each(b,function(b){b(a.message)})}}function z(a){if(a.message&&a.message.name&&a.message.frameId){var b=a.message.name,c=a.message.frameId;a.message.respondWith=a.respondWith;a.eventCallback=function(a){d.postMessageToChild(a.event.message.frameId,a.response,a.event.eventId)};R8.each([c,"*"],function(c){(c=d.childMessageListeners[c])&&
(c=c[b])&&R8.each(c,function(b){b(a.message)})})}}function h(a){a=parseFloat(a);return isNaN(a)?0:a}if(!window.R8Services){window.R8Services=window.R8Services||{PS:{}};window.R8Utils=window.R8Utils||{};window.R8.UI=window.R8.UI||{};var f=null,l=null;R8Services.PS.R8_STORE_CHANGED="R8_STORE_CHANGED";R8Services.PS.R8_STORES_CHANGED="R8_STORES_CHANGED";R8Services.PS.R8_LOCATION_CHANGED="R8_LOCATION_CHANGED";R8Services.PS.R8_LOCATIONS_CHANGED="R8_LOCATIONS_CHANGED";R8Services.readAPISmarts=function(a){a.api_type=
"smarts";return R8Services.readAPIExtension(a)};R8Services.readAPIExtension=function(a){var b=a.api_type,c=a.api_name,g=a.method||"GET";R8.isBlank(c,b)?a.callback&&a.callback({success:!1,message:"Missing [api_type,api_name] Parameters"}):(b={url:"/api/v1/exts/"+b+"/"+c+(a.params?"?"+e(a.params):""),method:g,data:a.data?a.data:null,callback:function(b){a.callback&&a.callback(b)}},R8.sendRequest(b))};R8Services.readAddons=function(a){var b={url:"/api/v1/apps/addons?"+e(a.params),method:"GET",content:"",
callback:function(b){a.callback&&a.callback(b)}};R8.sendRequest(b)};R8Services.readInventory=function(a){var b={url:"/api/v1/retail/inventory?"+e(a.params),method:"GET",content:"",callback:function(b){a.callback&&a.callback(b)}};R8.sendRequest(b)};R8Services.readTags=function(a){var b={url:"/api/v1/apps/tags?"+e(a.params),method:"GET",content:"",callback:function(b){a.callback&&a.callback(b)}};R8.sendRequest(b)};R8Services.createTags=function(a){var b={url:"/api/v1/apps/tags",method:"POST",content:JSON.stringify(a.params),
callback:function(b){a.callback&&a.callback(b)}};R8.sendRequest(b)};R8Services.readUsers=function(a){var b={url:"/api/v1/spaces/users?"+e(a.params),method:"GET",content:"",callback:function(b){a.callback&&a.callback(b)}};R8.sendRequest(b)};R8Services.readJobs=function(a){var b={url:"/api/v1/jobs/job?"+e(a.params),method:"GET",content:"",callback:function(b){a.callback&&a.callback(b)}};R8.sendRequest(b)};R8Services.readMetrics=function(a){var b=a.method?"GET"==a.method:!1,b={url:"/api/v1/streams/metrics"+
(b?"?pdog\x3d"+R8.toJSONBase64(a.params):""),method:b?"GET":"POST",content:b?null:JSON.stringify(a.params),callback:function(b){a.callback&&a.callback(b)}};R8.sendRequest(b)};R8Services.readTrends=function(a){var b=a.method?"GET"==a.method:!1,b={url:"/api/v1/streams/trends"+(b?"?pdog\x3d"+R8.toJSONBase64(a.params):""),method:b?"GET":"POST",content:b?null:JSON.stringify(a.params),callback:function(b){a.callback&&a.callback(b)}};R8.sendRequest(b)};R8Services.readAnalytics=function(a){var b={url:"/api/v1/streams/analytics?"+
e(a.params),method:"GET",content:"",callback:function(b){a.callback&&a.callback(b)}};R8.sendRequest(b)};R8Services.getJobStatus=function(a){var b={url:"/api/v1/jobs/status?"+e(a.params),method:"GET",content:"",callback:function(b){a.callback&&a.callback(b)}};R8.sendRequest(b)};R8Services.readPreferences=function(a){var b={url:"/api/v1/apps/preferences?"+e(a.params),method:"GET",content:"",callback:function(b){a.callback&&a.callback(b)}};R8.sendRequest(b)};R8Services.readSmartContent=function(a){var b=
{url:"/api/v1/apps/content?"+e(a.params),method:"GET",content:"",callback:function(b){a.callback&&a.callback(b)}};R8.sendRequest(b)};R8Services.readStoresAll=function(a){var b=new function(){this.options=a?a:{};this.options.params||(this.options.params={});this.searchContext={};this.count=0;this.lastContinueId=null;this.callback=a.callback;this.allresults=[];this.fields=this.options.params.fields?this.options.params.fields:[];this.divisions=this.options.params.divisions?this.options.params.divisions:
[];this.store_codes=this.options.params.store_codes?this.options.params.store_codes:this.options.params.store_code?this.options.params.store_code:[];this.run=function(){var a={};0<b.fields.length&&(a.fields=b.fields);b.store_codes&&0<b.store_codes.length&&(a.store_codes=b.store_codes);0<b.divisions.length&&(a.divisions=b.divisions);a.continue_id=b.lastContinueId;a.limit=100;R8Services.readStoreStream({params:a,callback:function(a){if(a.success){var c=a.data.results;b.lastResponse=a;b.allresults.push.apply(b.allresults,
c);b.lastContinueId=a.data.continue_id;b.count+=c.length;0<c.length?b.run():b.callback({success:!0,data:{results:b.allresults}})}else b.callback(a)}})}}(a);b.run()};R8Services.readStores=function(a){var b={url:"/api/v1/retail/stores?"+e(a.params),method:"GET",content:"",callback:function(b){a.callback&&a.callback(b)}};R8.sendRequest(b)};R8Services.readProducts=function(a){var b={url:"/api/v1/retail/products?"+e(a.params),method:"GET",content:"",callback:function(b){a.callback&&a.callback(b)}};R8.sendRequest(b)};
R8Services.updateInventory=function(a){var b={url:"/api/v1/retail/inventory",method:"PUT",content:JSON.stringify(a.params),callback:function(b){a.callback&&a.callback(b)}};R8.sendRequest(b)};R8Services.readStoreStream=function(a){var b={url:"/api/v1/streams/stores?"+e(a.params),method:"GET",content:"",callback:function(b){a.callback&&a.callback(b)}};R8.sendRequest(b)};R8Services.readCatalog=function(a){var b={url:"/api/v1/retail/catalog?"+e(a.params),method:"GET",content:"",callback:function(b){a.callback&&
a.callback(b)}};R8.sendRequest(b)};R8Services.readCatalogStream=function(a){var b={url:"/api/v1/streams/catalog?"+e(a.params),method:"GET",content:"",callback:function(b){a.callback&&(b.success&&a.exclude_invalid_images?t(b.data.results,function(d){b.data.results=d;a.callback(b)}):a.callback(b))}};R8.sendRequest(b)};R8Services.readContentStream=function(a){var b={url:"/api/v1/streams/content?"+e(a.params),method:"GET",content:"",callback:function(b){a.callback&&a.callback(b)}};R8.sendRequest(b)};
R8Services.readOrderStream=function(a){var b={url:"/api/v1/streams/orders?"+e(a.params),method:"GET",content:"",callback:function(b){a.callback&&a.callback(b)}};R8.sendRequest(b)};R8Services.createOrder=function(a){var b={url:"/api/v1/retail/orders",method:"POST",content:JSON.stringify(a.params),callback:function(b){a.callback&&a.callback(b)}};R8.sendRequest(b)};R8Services.updateOrder=function(a){var b={url:"/api/v1/retail/orders",method:"PUT",content:JSON.stringify(a.params),callback:function(b){a.callback&&
a.callback(b)}};R8.sendRequest(b)};R8Services.readOrders=function(a){var b={url:"/api/v1/retail/orders?"+e(a.params),method:"GET",content:"",callback:function(b){a.callback&&a.callback(b)}};R8.sendRequest(b)};R8Services.readDisplays=function(a){var b={url:"/api/v1/apps/displays?"+e(a.params),method:"GET",content:"",callback:function(b){a.callback&&a.callback(b)}};R8.sendRequest(b)};R8Services.readDisplayStream=function(a){var b={url:"/api/v1/streams/displays?"+e(a.params),method:"GET",content:"",
callback:function(b){a.callback&&a.callback(b)}};R8.sendRequest(b)};R8Services.readVersions=function(a){var b={url:"/api/v1/versioning/versions?"+e(a.params),method:"GET",content:"",callback:function(b){a.callback&&a.callback(b)}};R8.sendRequest(b)};R8Utils.paramsToString=e;R8Utils.toFormattedHour=function(a){a=a||{};var b=a.hour;if(!b||""==b)return"";a=a.format?a.format:"hh:mm A";return R8.Utils.moment(b,"HHmm").format(a)};R8Utils.getTodayStoreHours=function(a,b){if(!a.hours||0==a.hours.length)return{};
b=b||{};var c=b.format?b.format:"hh:mm A",d=R8.Utils.moment(),e=null,f;for(f in a.hours){var h=a.hours[f],k=d.format("dddd"),l=R8.Utils.moment(f,"ddd").format("dddd");if(k==l){e=h;break}}try{return isNaN(e[0])?{special_hours_status:e[0],special_hours_title:e[1]}:{hours_from:R8Utils.toFormattedHour({hour:e[0],format:c}),hours_to:R8Utils.toFormattedHour({hour:e[1],format:c})}}catch(m){return{hours_from:"00:00",hours_to:"00:00"}}};R8Utils.toPhoneFormat=function(a){return null==a?"":-1<a.indexOf("-")?
a:a.substring(0,3)+"-"+a.substring(3,6)+"-"+a.substring(6,10)};R8Utils.htmlToText=function(a){a=a||{};a=a.html;if(!a||""==a)return"";var b=document.createElement("div");b.innerHTML=a;return b.textContent||b.innerText||""};R8Utils.getEllipsis=function(a){a=a||{};var b=a.text,c=a.max?a.max:0;a=a.ellipsis;if(!b||""==b)return"";a&&""!=a||(a="...");return 0<c&&b.length>c?b.substring(0,c)+a:b};R8Utils.getProductImage=function(a){var b=null;a.product&&(b=a.product);if(!b)return a.default_value?a.default_value:
"";if(b.media&&0<b.media.length&&b.media[0].url)return b.media[0].url;if(b.variants)for(var c=0;c<b.variants.length;c++){var d=b.variants[c];if(d.media&&0<d.media.length&&d.media[0].url)return d.media[0].url}return a.default_value?a.default_value:""};R8Services.getActiveLocation=function(){R8.hasValue(f)&&f.store_code&&!f.location_code&&(f.location_code=f.store_code);return f};R8Services.getActiveStore=function(){R8.hasValue(f)&&f.location_code&&!f.store_code&&(f.store_code=f.location_code);return f};
R8Services.setActiveStore=function(a){(f=a)?(R8.PubSub.publishAsync({name:R8Services.PS.R8_STORE_CHANGED,store:f}),R8.PubSub.publishAsync({name:R8Services.PS.R8_LOCATION_CHANGED,location:f})):f=null};R8Services.setActiveLocation=function(a){(f=a)?(R8.PubSub.publishAsync({name:R8Services.PS.R8_STORE_CHANGED,store:f}),R8.PubSub.publishAsync({name:R8Services.PS.R8_LOCATION_CHANGED,location:f})):f=null};R8Services.setStores=function(a){(l=a)?(R8.PubSub.publishAsync({name:R8Services.PS.R8_STORES_CHANGED,
stores:a}),R8.PubSub.publishAsync({name:R8Services.PS.R8_LOCATIONS_CHANGED,locations:a})):l=[]};R8Services.getStores=function(){return l};R8Services.getLocations=function(){return l};R8Services.changeActiveLocation=function(a){R8Services.changeActiveStore(a)};R8Services.changeActiveStore=function(a){var b=m(a);b?(b.limit=1,R8Services.readStoreStream({params:b,callback:function(b){b.success&&0<b.data.results.length?(b=b.data.results[0],R8Services.setActiveStore(b),a.callback&&a.callback({success:!0,
store:b})):a.callback&&a.callback({success:!1,store:null})}})):a.callback&&a.callback({success:!1,stores:[]})};R8Services.changeStores=function(a){var b=m(a);b?R8Services.readStoreStream({params:b,callback:function(b){b.success?(b=b.data.results,R8Services.setStores(b),a.callback&&a.callback({success:!0,stores:b})):a.callback&&a.callback({success:!1,stores:[]})}}):a.callback&&a.callback({success:!1,stores:[]})};R8Services.trackEvent=function(a,b){var c=null;try{var d=b.data;d||(d={});"user_action"==
b.type&&(b.type="behavior",b.event_type="user_action",b.event="User Action");"behavior"==b.type?(d.event_type=b.event_type,d.event_id=b.event_id,d.event=b.event,c={type:"behavior",unique:["type","event_id","event_type"]}):c="visible_impression"==b.type?{type:"visible_impression",unique:["type"]}:b;if(c){c.data=d;var e=b.unique;e&&(c.unique=e);c.callback=b.callback;R8Services.sendAnalytics(a,c)}}catch(f){R8.debug(f)}};R8Services.sendAnalytics=function(a,b){u(a,b)};var n={},d={frameId:null,iframeHeight:0,
iframeWidth:0,iframeResizeId:null,childIframes:{},parentResizeIds:{},parentMessageListeners:{},childMessageListeners:{},subscribed:!1};R8.Utils.iframes=d;d.EVENTS={INIT:"iframe-init"};d.createFrame=function(a,b,c){c=c||{};if(a=x(a)){var e=c.id;e||(e=R8.newUID());var f=document.createElement("iframe");f.id=e;f.src="about:blank";f.style="height: 100%; width: 100%";a.appendChild(f);a=f.contentWindow;a.document.open();a.document.write(b);a.document.close();d.childIframes[e]=a;c.resizeId&&(d.parentResizeIds[e]=
c.resizeId);d.subscribed||(R8.PubSub.subscribe("iFrame_ChildMessage",function(a){z(a)}),d.addChildMessageListener({frameId:"*",name:"adjust-size",callback:function(a){var b=d.parentResizeIds[a.frameId];b&&(b=document.getElementById(b))&&(isNaN(a.width)||(b.style.width=a.width+"px"),isNaN(a.height)||(b.style.height=a.height+"px"))}}),d.subscribed=!0);return e}console.warn("Parent not specified or not found")};d.iframeInit=function(a){a=a||{};var b=a.context?a.context:{},c=window.frameElement;c?(d.frameId=
c.id,a.resizeId&&(d.iframeResizeId=a.resizeId),R8.PubSub.subscribe("iFrame_ParentMessage",function(a){y(a)}),d.postMessageToParent({name:"iframe-init",frameId:d.frameId,context:b})):console.warn("Not running in an iframe")};d.postMessageToParent=function(a,b){var c=window.parent;c&&(a.frameId=d.frameId,c={name:"iFrame_ChildMessage",message:a,targetWindow:c,targetOrigin:window.location.origin},a.eventCallback&&(c.eventCallback=function(b){a.eventCallback(b)}),b&&(c.eventId=b),R8.PubSub.publishAsync(c))};
d.postMessageToChild=function(a,b,c){if(a=d.childIframes[a])a={name:"iFrame_ParentMessage",message:b,targetWindow:a,targetOrigin:window.location.origin},b.eventCallback&&(a.eventCallback=function(a){b.eventCallback(a)}),c&&(a.eventId=c),R8.PubSub.publishAsync(a)};d.addParentMessageListener=function(a){a=a||{};if(a.name&&a.callback){var b=d.parentMessageListeners[a.name];b||(b=[],d.parentMessageListeners[a.name]=b);b.push(a.callback)}};d.addChildMessageListener=function(a){a=a||{};if(a.name&&a.callback&&
a.frameId){var b=d.childMessageListeners[a.frameId];b||(b={},d.childMessageListeners[a.frameId]=b);var c=b[a.name];c||(c=[],b[a.name]=c);c.push(a.callback)}};d.adjustIframeSize=function(){if(d.iframeResizeId){var a=document.getElementById(d.iframeResizeId),b=getComputedStyle(a),a=h(b.marginLeft)+h(b.width)+h(b.marginRight),b=h(b.marginTop)+h(b.height)+h(b.marginBottom);if(a!==d.iframeWidth||b!==d.iframeHeight)d.iframeWidth=a,d.iframeHeight=b,d.postMessageToParent({name:"adjust-size",width:a,height:b})}}}})();

//==r8_plugins.js==//
(function(t){function u(a){var b=a.instance;if(b&&b.onDestroy)try{b.onDestroy()}catch(c){}a.element&&(a.element.innerHTML="",a.element=null);delete a.instance;a.instanceId?R8.debug("[Plugin][INFO]["+a.instanceId+"] Removed"):R8.debug("[Plugin][INFO] [unknown_id] Removed")}function C(a){a=a||{};var b=["display_type","slug_id","extra_attributes","modified_time"];a.with_content&&b.push("content");R8Services.readDisplayStream({params:{slug_ids:a.display_slug_ids,fields:b},callback:function(b){if(b.success){b=
b.data.results;for(var f=0;f<b.length;f++){var d=b[f],e=a.import_bundle[d.slug_id];d.slug_id?x[d.slug_id]=d:R8.debug("[Plugin][WARN] (addDisplayInfo) Display was missing slug_id or extra_attributes.");delete a.import_bundle[d.slug_id];if(e)for(var h=0;h<e.length;h++)e[h].pluginType||(e[h].pluginType=d.display_type),y(e[h])}}for(var k in a.import_bundle)if(e=a.import_bundle[k])for(h=0;h<e.length;h++)z(e[h])}})}function z(a){a.state="missing";a.loadContext.state="missing";A(a)}function y(a){if(!D(a)&&
!m[a.pluginType]){var b={loadOnReady:[],state:"load",url:R8.getBaseCDN()+"/r8addons/webplugin_"+a.pluginType+"/webplugin_"+a.pluginType+".js?r8tv\x3d"+R8.getVersionTag()};m[a.pluginType]=b;b.loadOnReady.push(a);R8.importScript({url:b.url,callback:function(c){a.element||(a.element=c.element);c.success?b.state="ready":(b.state="failed",R8.debug("Import Script Failed - ",b.url),z(a))}})}}function D(a){if("load"!=a.state)return!0;if(q[a.pluginType])return B(a),!0;m[a.pluginType]&&m[a.pluginType].loadOnReady.push(a);
return!1}function B(a){try{if(q[a.pluginType]){var b={pluginType:a.pluginType,displaySlugId:a.displaySlugId,element:a.element,instanceId:a.instanceId},c=d.getDisplayInfo(a.displaySlugId);c&&(b.slugId=c.slug_id,b.extraAttributes=c.extra_attributes,b.modifiedTime=c.modified_time,c.content&&(b.content=c.content));b.element&&d.getPluginById(b.instanceId)&&d.destroyPlugins({id:b.instanceId});a.instance=new q[a.pluginType](b);E(a)}else R8.log("[Plugin][WARN]["+a.pluginType+"] Not Defined.")}catch(f){R8.log("[Plugin][ERROR]["+
a.pluginType+"] - "+f)}a.instance||(a.state="failed",R8.log("[Plugin][WARN] ["+a.pluginType+"] Wasn't Created."));A(a)}function E(a){try{if(a.instance&&a.instance.onLoad){a.instance.getId&&(p[a.instance.getId()]=a.instance);var b=function(){if(a.readyCallback&&a.readyCallback&&window[a.readyCallback])window[a.readyCallback](a.instance)},c=a.instance.onLoad({callback:b});if(!c||!c.handles_callbacks)try{b(),R8.debug("[Plugin][INFO] Auto Handle Load Callback: "+(a.instance.getId?a.instance.getId():a.displaySlugId))}catch(f){}}a.state=
"ready";R8.PubSub.publishAsync({name:d.PS.R8_PLUGIN_READY,element:a.element,plugin:a.instance})}catch(f){R8.log("[Plugin][ERROR] ["+a.pluginType+"] Load Failed: "+f)}}function A(a){if(a.loadContext){for(var b=!0,c=0;c<a.loadContext.plugins.length;c++)if("load"==a.loadContext.plugins[c].state){b=!1;break}if(b){if(a.loadContext.onAllPluginsReady)a.loadContext.onAllPluginsReady({plugins:a.loadContext.plugins});R8.PubSub.publishAsync({name:d.PS.R8_ALL_PLUGINS_READY});delete a.loadContext.plugins}"missing"==
a.state?R8.debug("[Plugin][WARN] Missing ["+a.displaySlugId+":"+a.pluginType+"]"):"load"!=a.state&&R8.debug("[Plugin][INFO] ["+a.displaySlugId+":"+a.pluginType+"] [Ready]");delete a.loadContext}}if(!t.R8Plugins){var l=[],m={},q={},p={},x={},d=t.R8Plugins={PS:{}};d.PS.R8_PLUGIN_TYPE_READY="R8_PLUGIN_TYPE_READY";d.PS.R8_PLUGIN_READY="R8_PLUGIN_READY";d.PS.R8_ALL_PLUGINS_READY="R8_ALL_PLUGINS_READY";d.PS.R8_CREATE_PLUGINS="R8_CREATE_PLUGINS";d.PS.R8_REFRESH_VIEWS="R8_REFRESH_VIEWS";d.definePlugin=function(a,
b){q[a]=b;R8.PubSub.publish({name:d.PS.R8_PLUGIN_TYPE_READY,type:a});var c=m[a];if(0<c.loadOnReady.length){for(var f=[],g=0;g<c.loadOnReady.length;g++){var e=c.loadOnReady[g];f.push(e);B(e)}c.loadOnReady=[]}};d.getDisplayInfo=function(a){return x[a]};d.getPluginById=function(a){return p[a]};d.refreshViews=function(a){for(a=0;a<l.length;a++){var b=l[a];if(b.instance&&b.instance.onRefreshView)try{b.instance.onRefreshView()}catch(c){}}};d.destroyPlugins=function(a){a=a||{};var b=a.callback,c=[];if(a.id){for(var d=
null,g=0;g<l.length;g++){var e=l[g];if(e.instanceId==a.id){d=e;l.splice(g,1);delete p[e.instanceId];c.push({id:e.instanceId});break}}d&&u(d)}else{for(g=0;g<l.length;g++)d=l[g],c.push({id:d.instanceId}),u(d);l=[]}b&&b({plugins:c})};d.createPlugins=function(a){try{a=a?a:{};var b=a.type,c=a.with_content,f=[],g={plugins:f,state:"creating"};R8.debug("[Plugin][INFO] Running Creating Plugins \x3e\x3e\x3e");a.onAllPluginsReady&&(g.onAllPluginsReady=a.onAllPluginsReady);if(b){var e=a.id;R8.hasValue(e)&&""!=
e||(e=b+"_"+R8.newUID());f.push({pluginType:b,instanceId:e,displaySlugId:null,element:null,state:"load",loadContext:g})}else{a.container_id&&(a.rootElementId=a.container_id);a.container_element&&(a.rootElement=a.container_element);if(a.rootElementId&&(a.rootElement=document.getElementById(a.rootElementId),!a.rootElement)){console.log("[Plugin][WARN] Cannot create R8 Plugins For root element Id ["+a.rootElementId+"], doesn't exist.");return}for(var h=(a.rootElement?a.rootElement:document).getElementsByTagName("div"),
k=0;k<h.length;k++){var n=h[k],m=n.getAttribute("data-r8-plugin"),r=n.getAttribute("data-r8-display");r&&""!=r||(r=n.getAttribute("data-r8-id"));if(m||r){R8.debug("Plugin["+r+"] Type["+m+"] [Defined]");var q=n.getAttribute("data-r8-ready"),e=n.id;R8.hasValue(e)&&""!=e||(e=m+"_"+R8.newUID(),n.id=e);var p;a:{for(a=0;a<l.length;a++)if(l[a].element==n){p=!0;break a}p=!1}p||f.push({pluginType:m,instanceId:n.id,displaySlugId:r,element:n,state:"load",readyCallback:q,loadContext:g})}}}if(0<f.length)for(k=
0;k<f.length;k++)l.push(f[k]);e={};h=!1;for(k=0;k<f.length;k++){var w=f[k],v=w.displaySlugId;v?(e[v]||(e[v]=[]),e[v].push(w),h=!0):y(w)}if(h){var c={display_slug_ids:[],import_bundle:e,with_content:c},t;for(t in e)c.display_slug_ids.push(t);C(c)}if(0==f.length){if(g.onAllPluginsReady)g.onAllPluginsReady({plugins:[]});R8.PubSub.publishAsync({name:d.PS.R8_ALL_PLUGINS_READY})}}catch(u){console.log("R8Plugins - "+u)}};d.requires=function(a,b){a&&a.sources&&0!=a.sources.length||b({success:!0});b||(b=function(){});
var c={};c.sources=a.sources;c.completed=function(a){b({success:!0})};R8.imports(c)};d.pluginChangeView=function(a,b,c){if((a=d.getPluginById(a))&&a.changeView)return a.changeView(b,c),!0;c&&c({success:!1,error_message:"Plugin Not Supported"});return!1};d.pluginRequestData=function(a,b,c){if((a=d.getPluginById(a))&&a.requestData)return a.requestData(b,c),!0;c&&c({success:!1,error_message:"Plugin Not Supported"});return!1};R8.PubSub.subscribe(d.PS.R8_CREATE_PLUGINS,function(a){a.container_id?d.createPlugins({container_id:a.container_id,
with_content:a.with_content,onAllPluginsReady:function(b){a.callback&&a.callback(b)}}):console.log("R8_CREATE_PLUGINS has missing 'container_id'")});R8.PubSub.subscribe(d.PS.R8_REFRESH_VIEWS,function(a){d.refreshViews({})})}})(window);

//==r8_context.js==//
(function(t){function O(a){function b(){}b.prototype=a;return new b}function p(a){a.prototype=O(g.prototype);a.prototype.constructor=a;t[a.prototype.constructor.name]=a}function g(){}function m(){}function C(a,b){var c=a.getComponents();R8.each(c,function(a,c){"dataset"==a.type&&b.push(a);var h=a.getComponents();h&&0<h.length&&C(a,b)})}function D(){}function f(a){this.publicContext={};this.localContext={};this.datasets={};this.servicesInProcess={};this.listeners={datasets:[]};this._id=a.id;this._onRefreshHandler=
a.onRefresh;this.throwTemplateErrors=R8.hasValue(a.throwTemplateErrors)?a.throwTemplateErrors:!0;this.onTemplateError=a.onTemplateError;this.disableTemplates=R8.hasValue(a.disableTemplates)?a.disableTemplates:!1;this.windowContext=window;this.documentContext=document;R8.PubSub.subscribe(this._id,function(a){this._onHandleContextEvents(a)});a.variables&&this.setVariables(a.variables)}function r(a){a=a.component;var b=a.get("behavior");a.get("data_behavior");var c=a.get("rules");c&&R8.each(c,function(a,
b){});b&&b.data&&(b.data.url?b.data.url=a.renderTemplates({templates:{url:b.data.url}}).url:b.data.json_dataset&&(b.data.json_dataset=a.renderTemplates({templates:{json_dataset:b.data.json_dataset}}).json_dataset))}function E(a){var b=a.component,c=b.getLayout(),d=c.getContext(),e=a.service_name,h=a.dataset_id_success,k=a.dataset_id_failed,l=d.getVariable("location"),c=c.getDataset({id:"input_fields"}),n=a.callback;d.servicesInProcess[e]={running:!0,source_id:b.get("id")};d.triggerEvent({event:"event_service_process",
component:b});var f={api_name:e,data:{}};c&&c.items&&0<c.items.length&&(f.data["smarts-fields"]=JSON.stringify(c.items[0]));f.data["smarts-geo"]=JSON.stringify(d.publicContext.geo);l&&(f.data["smarts-location"]={location_code:l.location_code,geo_distance:l.geo_distance});f.data["smarts-location"]=JSON.stringify(f.data["smarts-location"]);f.callback=function(a){a.originalRequest=f;var c={info:{success:a.success},items:[]};a.data&&(c.items=a.data.results?a.data.results:[],a.data.details&&R8.each(a.data.details,
function(a,b){c.info[b]=a}));a.success?(d.modifyDataset({id:k,dataset:null,action:"delete",component:b}),d.modifyDataset({id:h,dataset:c,action:"update",component:b})):(c.info.error=a.data.error,c.info.error_description=a.data.error_description,d.modifyDataset({id:k,dataset:c,action:"update",component:b}),d.modifyDataset({id:h,dataset:null,action:"delete",component:b}));delete d.servicesInProcess[e];d.triggerEvent({event:"event_service_process",component:b});n&&n()};R8Services.readAPISmarts(f)}function v(){}
function F(){}function G(){}function P(a){var b=a.getContext(),c=a.namspace,d=a.type,e=a.element,h=a.get("style"),k=a.get("value");e.classList.add("r8cc-element-"+c);e.classList.add("r8cc-element");e.classList.add("r8cc-element-"+d);q({element:e,component:a});var l=a.get("label"),c=a.get("placeholder");if(l){var f=b.createDocumentElement({type:"div"});f.classList.add("r8cc-element-input-label");f.innerHTML=a.renderTemplates({templates:{label:l}}).label;e.appendChild(f)}l=b.createDocumentElement({type:"div"});
l.classList.add("r8cc-element-input-container");var g=b.createDocumentElement({type:"input"});"hidden"==h&&g.setAttribute("type","hidden");k&&(g.value=k);g.classList.add("r8cc-core-"+d);c&&g.setAttribute("placeholder",a.renderTemplates({templates:{placeholder:c}}).placeholder);l.appendChild(g);a.addInput({getter:function(){return g.value}});(d=a.get("behavior"))&&d.type&&"nothing"!=d.type&&(b=b.createDocumentElement({type:"div"}),b.classList.add("r8cc-element-input-button"),l.appendChild(b),l.classList.add("r8cc-with-button"),
a.addBehavior({source:b,event:"click"}));e.appendChild(l)}function H(){}function I(){}function J(){}function K(){}function L(){}function Q(a){var b=a.getContext(),c=a.type,d=a.element;d.classList.add("r8cc-element-"+a.namspace);d.classList.add("r8cc-element");d.classList.add("r8cc-element-"+c);var e=b.createDocumentElement({type:"div"});e.classList.add("r8cc-core-"+c);c=a.get("display_id");e.setAttribute("data-r8-display",c);q({element:d,component:a});d.appendChild(e);b.getWindow().R8Plugins&&b.getWindow().R8Plugins.createPlugins({container_element:d,
with_content:!0,onAllPluginsReady:function(a){}})}function M(){}function N(){}function u(){}function w(){}function x(){}function R(a){var b=a.getContext(),c=a.type,d=a.element;d.classList.add("r8cc-element-"+a.namespace);d.classList.add("r8cc-element");d.classList.add("r8cc-element-"+c);q({element:d,component:a});y({element:d,component:a});r({component:a});a.addBehavior({source:d,event:"click"});var c=a.get("style"),e=0==c.indexOf("row-")?"row":"col",h=c.replace(e+"-","");d.classList.add("r8cc-element-grid-"+
e);if((a=a.getComponents())&&0<a.length){var k=a.length-1;R8.each(a,function(a,c){if("dataset"!=a.type){var f=b.createDocumentElement({type:"div"}),g="";if("fit-fill"==h)k!=c&&(g="fit");else if("fill-fit"==h)0!=c&&(g="fit");else if("fit-fill-fit"==h){if(0==c||k==c)g="fit"}else-1<h.indexOf("wrap")&&(g=h);g||(g="fill");f.classList.add("r8cc-element-grid-cell");f.classList.add("r8cc-element-grid-"+e+"-"+g);d.appendChild(f);a.renderOn(f)}})}}function z(a,b){var c=""!=a;return"left"==b?c?a+"Left":b:"right"==
b?c?a+"Right":b:"bottom"==b?c?a+"Bottom":b:"top"==b?c?a+"Top":b:null}function y(a){var b=a.element;a=a.component.get("position");var c=!1;R8.each(a,function(a,e){var h=A(a),k=z("",e);h&&k&&(b.style[k]=h,c=!0)});c&&(b.style.position="absolute",b.style.margin="auto")}function q(a){var b=a.targetSizeElement,c=a.overrideStyle,d=a.element;a=a.component;var e=a.get("padding"),h=a.get("margins"),k=a.get("overlay_index");a.get("markups");var f=a.get("align"),g=a.get("style_width"),c=c||a.get("style");f&&
d.classList.add("r8cc-align-"+f);g&&d.classList.add("r8cc-style-width-"+g);c&&d.classList.add("r8cc-style-"+c);R8.each(e,function(a,b){var c=A(a),e=z("padding",b);c&&e&&(d.style[e]=c)});R8.each(h,function(a,b){var c=A(a),e=z("margin",b);c&&e&&(d.style[e]=c)});if(b=b||d)c=a.get("height"),e=a.get("width"),h=a.get("min_height"),c=B(c),e=B(e),h=B(h),e&&(b.style.width=e),c&&(b.style.height=c),h&&(b.style.minHeight=h);R8.hasValue(k)&&(d.style.zIndex=k);a.get("border_style");if(k=a.get("background_image_url"))k=
a.renderTemplates({templates:{url:k}}).url,d.style.backgroundImage="url('"+k+"')",(a=a.get("background_style"))&&a.type&&(k=!1,"cover"==a.type?(d.style.backgroundSize="cover",k=!0):"fit"==a.type?(d.style.backgroundSize="contain",k=!0):"blank"==a.type&&(d.style.backgroundImage="none",k=!1),k&&(d.style.backgroundRepeat="no-repeat",d.style.backgroundPosition="center"))}function A(a){return R8.hasValue(a)?0==a?"0":0<a?a+"px":null:null}function B(a){return R8.hasValue(a)?0!=a&&0<a?a+"px":null:null}t?t.Context||
(t.R8Component=g,g.prototype.load=function(a){var b=a.componentDefinition,c=b.element_id;c||(c="r8cc_"+R8.toSlug(R8.newUID()));this.elementId=c;this.type=b.type;this.namespace=a.namespace;this.layout=a.layout;this.primaryComponent=a.primaryComponent;this.parentComponent=a.parentComponent;this.parentElement=this.element=null;this.renderedComponentCount=0;this.setDefinition(b)},g.prototype.setDefinition=function(a){var b=void 0!=this.__componentDefinition,c=this;a&&(b&&this.clearRender(),this.__componentDefinition=
a,this.__properties={},this.__components=[],this.__componentCopies=[],R8.each(this.__componentDefinition,function(a,b){if("elements"!=b)try{R8.hasValue(a)&&c.set(b,R8.toCopy(a))}catch(h){console.log("definition-error",h,a)}}),this.id=this.get("id"),R8.each(this.__componentDefinition.elements,function(a,b){c.addComponent({componentDefinition:a})}))},g.prototype.hasRenderedChildren=function(){return 0<this.renderedComponentCount},g.prototype.onChildRendered=function(a){console.log("onChildRendered",
this,a);this.renderedComponentCount++},g.prototype.toJSON=function(){var a={};R8.each(this.__componentDefinition,function(b,c){a[c]=b});0<this.__components.length&&(a.elements=[]);R8.each(this.__components,function(b,c){a.elements.push(b.toJSON())});return a},g.prototype.getPrimaryComponent=function(){return this.primaryComponent},g.prototype.renderCopy=function(a){var b=this.toJSON();b.element_id&&(b.element_id+="_cp_"+(this.__componentCopies.length+1));b=this.layout.newComponent({primaryComponent:this,
componentDefinition:b,layout:this.getLayout(),parentComponent:this.getParent()});this.__componentCopies.push(b);b.renderProcess(a);return b},g.prototype.addComponent=function(a){a=a.componentDefinition;try{var b=this.layout.newComponent({componentDefinition:a,layout:this.layout,parentComponent:this});this.__components.push(b);return b}catch(c){console.log("R8Component.addComponent: "+c)}},g.prototype.getParent=function(){return this.parentComponent},g.prototype.getParents=function(){for(var a=[],
b=this.getParent();b;){a.push(b);if(b.isLayout)break;b=b.getParent()}return a},g.prototype.getComponents=function(){return this.__components},g.prototype.getComponentCopies=function(){return this.__componentCopies},g.prototype.getData=function(){return this._data?this._data:null},g.prototype.setData=function(a){this._data=a},g.prototype.renderOn=function(a){try{this.render({parentElement:a})}catch(b){console.log("Render: ",b)}},g.prototype.removeRender=function(){this.element&&void 0!=this.element.parentNode&&
(this.removeRenderedChildren(),this.element.innerHTML="",this.element.parentNode.removeChild(this.element),this.element=this.parentElement=null)},g.prototype.clearRender=function(a){console.log("clearRender",this);this.element&&(this.element.style="",this.element.setAttribute("class",""),this.removeRenderedChildren(),this.element.innerHTML="")},g.prototype.removeRenderedChildren=function(a){this.renderedComponentCount=0;(a=this.getComponents())&&R8.each(a,function(a,c){a.removeRender()});this.removeCopies()},
g.prototype.clearRenderedChildren=function(a){this.renderedComponentCount=0;(a=this.getComponents())&&R8.each(a,function(a,c){a.clearRender()});this.removeCopies()},g.prototype.removeCopies=function(a){if(a=this.getComponentCopies())R8.each(a,function(a,c){a.removeRender()}),this.__componentCopies=[]},g.prototype.attachToParent=function(a){try{this.parentElement=a,this.parentElement.appendChild(this.element)}catch(b){console.log("R8Component.attachToParent "+b,this,a)}},g.prototype.renderElement=
function(){this.element||(this.element=this.getContext().createDocumentElement({type:"div"}),this.element.id=this.elementId,this.element.setAttribute("id",this.element.id),this.id&&this.element.setAttribute("data-r8cc-id",this.id))},g.prototype.renderToElement=function(){var a=this.getContext().createDocumentElement({type:"div"});this.renderOn(a);return a},g.prototype.render=function(a){a=a||{};var b=this,c=this.get("data_behavior");if(c&&c.type){b.getLayout();var d=this.getContext().getComponentDataset({component:b}),
e="read_one"==c.type;console.log("\x3e\x3e Dataset",c,d);if(d)if(d.items&&0!=d.items.length||!d){var h=0;R8.each(d.items,function(a,c){0==h?b.renderProcess({data:{info:d.info,item:a}}):b.renderCopy({data:{info:d.info,item:a}});if(e)return{breakout:!0};h++})}else b.renderProcess({data:d});else b.renderProcess({invalid_rule:{valid:!1,rule_type:"missing_dataset"}})}else b.renderProcess(a)},g.prototype.renderProcess=function(a){try{a=a||{};var b=this,c=a.parentElement,d=a.data?d=a.data:null,e=!1,h=this.isLayout;
!d&&b.getParent()&&(d=b.getParent().getData());b.setData(d);this.renderElement();(e=void 0!=this.element.parentNode)||(c?this.attachToParent(c):h||this.attachToParent(b.getParent().element));c=null;if(c=a.invalid_rule?a.invalid_rule:this.getContext().checkComponentRules({component:this}))this.onPreRender({renderable:!1,callback:function(){}});else this.onPreRender({renderable:!0,callback:function(){b.onRender();if(b.getParent())b.getParent().onChildRendered(b)}})}catch(k){console.log("render: ",k)}},
g.prototype.onPreRender=function(a){a.callback()},g.prototype.onRender=function(){console.log("default render called "+this.type)},g.prototype.getContext=function(){return this.layout.context},g.prototype.getNamespace=function(){return this.layout.namespace},g.prototype.getLayout=function(){return this.layout},g.prototype.getLayoutId=function(){return this.layout.elementId},g.prototype.addBehavior=function(a){var b=this,c=a.event;a=a.source;c&&a&&R8.addEventListener(a,c,function(a){b.getContext()._onBehaviorHandler({component:b,
originalEvent:a})})},g.prototype.addInput=function(a){this.layout.registerInput({id:a.id,component:this,getter:a.getter})},g.prototype.set=function(a,b){this.__properties[a]=b},g.prototype.get=function(a,b){var c=this.__properties[a];return R8.hasValue(c)?c:b},g.prototype.renderChildren=function(a){this.renderedComponentCount=0;(a=this.getComponents())&&R8.each(a,function(a,c){"dataset"!=a.type&&a.render()})},g.prototype.renderTemplates=function(a){a.component=this;return this.layout.getContext().renderTemplates(a)},
p(m),m.prototype.load=function(a){a.layout=this;this.isLayout=!0;this.context=a.context;this.__componentsByElementId={};this.__componentsById={};this._inputRefs={};this._datasetSensitivity={};this._eventSensitivity={};this._datasetsAvailable={};a.componentDefinition={type:"layout",element_id:a.element_id,elements:[a.componentDefinition]};g.prototype.load.call(this,a);this.__componentsByElementId[this.elementId]=this},m.prototype.newComponent=function(a){a=a||{};a.layout=this;a.namespace=this.namespace;
var b=a.componentDefinition.type,c=null;try{c=new t["R8Component_"+b]}catch(d){throw console.log("Failed to create: "+b),d;}c.load(a);this.__componentsByElementId[c.elementId]=c;(a=c.get("id"))&&(this.__componentsById[a]=c);this._readSensitivity({component:c});return c},m.prototype.registerInput=function(a){var b=a.component,c=a.getter;(a=a.id?a.id:b.id)&&b&&c&&(this._inputRefs[a]={getter:c,component:b})},m.prototype.getInputs=function(){return this._inputRefs},m.prototype.getComponent=function(a){if(!a.elementId&&
!a.id)throw"getComponent Missing elementId or Id";return a.elementId?this.__componentsByElementId[a.elementId]:this.__componentsById[a.id]},m.prototype.onRender=function(){var a=this.element;a.id=this.elementId;a.classList.add("r8cc-container");a.classList.add("r8cc-container-"+this.namespace);this.renderChildren()},m.prototype.getDataset=function(a){a.layout=this;return this.context.getDataset(a)},m.prototype.renderChildren=function(a){console.log("\n\n\n!!!!!!RENDERING LAYOUT !!!!!! \n\n\n");g.prototype.renderChildren.call(this,
a);a=[];C(this,a);0<a.length&&R8.each(a,function(a,c){a.render()})},m.prototype.refreshDatasetSensitiveComponents=function(a){this._onRefreshDatasetSensitiveComponents(a)},m.prototype.refreshEventSensitiveComponents=function(a){this._onRefreshEventSensitiveComponents(a)},m.prototype._onRefreshEventSensitiveComponents=function(a){var b=this;a=this._eventSensitivity[a.event_id];var c={},d={};a&&(R8.each(a,function(a,d){c[a.elementId]=b.getComponent({elementId:a.elementId})}),R8.each(c,function(a,b){var k=
a.getParents(),f=!1;R8.each(k,function(b,h){if(c[b.elementId])return f=!0,{breakout:!0};f||d[a.elementId]||(d[a.elementId]=a)})}),R8.each(d,function(a,c){b.context.refreshLayout({component:a,onlyComponent:!0})}))},m.prototype._onRefreshDatasetSensitiveComponents=function(a){var b=this,c=a.dataset_id;a=this._datasetSensitivity[c];var d={},e={};a&&(R8.each(a,function(a,c){d[a.elementId]=b.getComponent({elementId:a.elementId})}),R8.each(d,function(a,b){var c=a.getParents(),f=!1;R8.each(c,function(a,
b){if(d[a.elementId])return f=!0,{breakout:!0}});f||e[a.elementId]||(e[a.elementId]=a)}),R8.each(e,function(a,d){console.log("refreshLayout[DATASET:"+c+"] COMPONENT:",a);b.context.refreshLayout({component:a,onlyComponent:!0})}))},m.prototype._readSensitivity=function(a){var b=a.component;if(!b.getPrimaryComponent()){var c=this,d=this.context.getSensitivity(a);a=this.context.getComponentDatasetIds(a);0<a.dataset_ids.length&&R8.each(a.dataset_ids,function(a,b){c._datasetsAvailable[a]={}});0<d.data.length&&
R8.each(d.data,function(a,d){var f=c._datasetSensitivity[a.dataset_id]||[];f.push({elementId:b.elementId});c._datasetSensitivity[a.dataset_id]=f});0<d.events.length&&R8.each(d.events,function(a,d){var f=c._eventSensitivity[a.event_id]||[];f.push({elementId:b.elementId});c._eventSensitivity[a.event_id]=f})}},D.prototype.newContext=function(a){return new f(a)},f.prototype.addListener=function(a){var b=a.type;a=a.handler;if(!b||!a)throw"R8Context.removeListener must have type \x26 handler";"datasets"==
b&&this.listeners.datasets.push({handler:a})},f.prototype.removeListener=function(a){var b=a.type,c=a.handler;if(!b||!c)throw"R8Context.removeListener must have type \x26 handler";"datasets"==b&&R8.each(this.listeners[b],function(a,b){if(c==a.handler)return this.listeners.datasets.splice(b,1),{breakout:!0}})},f.prototype._triggerListeners=function(a){var b=a.type,c=a.parameters;if(!b||!c)throw"R8Context._triggerListeners must have type \x26 parameters";"datasets"==b&&R8.each(this.listeners[b],function(a,
b){a.handler(c)})},f.prototype.getComponentDataset=function(a){var b=null;a=a.component;var c=a.get("data_behavior");c&&c.data&&c.data.dataset_id&&(b=a.getLayout().getDataset({id:c.data.dataset_id}));return b},f.prototype.checkComponentRules=function(a){var b=this,c=null,d=a.component,e=d.getLayout();a=d.get("rules");if(!a)return null;R8.each(a,function(a,f){if("device_type"==a.type){var g=R8.getDeviceInfo().isMobile;if(g&&"mobile"!=a.data.value||!g&&"desktop"!=a.data.value)c={valid:!1,rule_type:a.type}}else if("location_distance"==
a.type){var n=b.getVariable("geo");n&&(g=!0,n=n.distanceAway(),a.data.min&&(g=n>=a.data.min),g&&a.data.max&&(g=n<=a.data.max),g||(c={valid:!1,rule_type:a.type}))}else"dataset_exists"==a.type?a.data.dataset_id&&!e.getDataset({id:a.data.dataset_id})&&(c={valid:!1,rule_type:a.type}):"dataset_field_exists"==a.type?(g=e.getDataset({id:a.data.dataset_id}),a.data.dataset_id&&a.data.dataset_field_id&&((n=g&&0<g.items.length)&&(n=R8.hasValue(g.items[0][a.data.dataset_field_id])),n&&(n=!R8.isEmpty(g.items[0][a.data.dataset_field_id])),
n||(c={valid:!1,rule_type:a.type}))):"event_service_process"==a.type&&(g=b.getServiceStatus(),0==g.length&&(c={valid:!1,rule_type:a.type}),console.log("event_service_process",c,g,d));if(c)return{breakout:!0}});return c},f.prototype.getDatasetIds=function(a){a=a.layout;var b=["input_fields"];if(!a)return b;var c={input_fields:"input_fields"};R8.each(a._datasetsAvailable,function(a,e){c[e]||(b.push(e),c[e]=e)});return b},f.prototype.getComponentDatasetIds=function(a){var b={dataset_ids:[]};a=a.component;
var c=a.get("data_behavior"),d=a.get("behavior");"dataset"==a.type&&R8.hasValue(a.get("id"))&&b.dataset_ids.push(a.get("id"));if(!c&&!d)return b;c&&c.data&&c.data.dataset_id&&b.dataset_ids.push(c.data.dataset_id);d&&d.data&&R8.each(d.data,function(a,c){0==c.indexOf("dataset_id")&&a&&b.dataset_ids.push(a)});return b},f.prototype.getSensitivity=function(a){var b={data:[],events:[]},c=a.component;a=c.get("data_behavior");c.get("behavior_events");c=c.get("rules");if(!a&&!c)return b;a&&a.data&&a.data.dataset_id&&
b.data.push({type:"data_behavior",dataset_id:a.data.dataset_id});c&&R8.each(c,function(a,c){-1<a.type.indexOf("dataset_")?a.data.dataset_id&&b.data.push({type:"rule",dataset_id:a.data.dataset_id}):-1<a.type.indexOf("event_")&&b.events.push({event_id:a.type})});return b},f.prototype.getWindow=function(){return this.windowContext},f.prototype.getDocument=function(){return this.documentContext},f.prototype.launchURL=function(a){var b=a.target;a=a.url;"new_window"==b?this.getWindow().open(a):"current_window"==
b?this.getDocument().location.href=a:"current_location"==b&&(this.getDocument().location=a)},f.prototype.createDocumentElement=function(a){a=a.type;return this.getDocument().createElement(a)},f.prototype.newLayout=function(a){a.context=this;var b=new m;b.load(a);return b},f.prototype.modifyDataset=function(a){var b=a.id,c=a.dataset,d=a.action,e=a.component,f=0==b.indexOf("#"),g=b,l=R8.getValue(a.refresh_components,!0),n=a.callback;a=R8.getValue(a.silent,!1);if(!f){if(!e)throw"R8Context.modifyDataset needs component id for local datasets";
g=e.getLayout().elementId+"#"+b}"update"==d?this.datasets[g]=c:"delete"==d&&delete this.datasets[g];console.log("modifyDataset",g,d,c);a||(l&&e.getLayout().refreshDatasetSensitiveComponents({dataset_id:b}),this._triggerListeners({type:"datasets",parameters:{event:"modify_dataset",action:d,dataset_id:b,component:e,dataset:c}}));n&&n({})},f.prototype.getDataset=function(a){a=a||{};var b=a.id;a=a.layout;if(0==b.indexOf("#"))return this.datasets[b];if(!a)throw"R8Context.getDataset needs layout id for local datasets";
return this.datasets[a.elementId+"#"+b]},f.prototype._registerElementComponentRef=function(a,b,c){var d=R8.toSlug(R8.newUID()),e=c.id;b.setAttribute("id",d);b.setAttribute("data-r8-ceid",d);e&&b.setAttribute("data-r8-element-id",e);this._componentElementRefs[d]=c;this._componentsById[a+"_"+e]=c},f.prototype._bindBehavior=function(a){var b=this,c=a.ceid,d=a.event;a=a.source;c&&d&&a&&R8.addEventListener(a,d,function(a){b._onBehaviorHandler({context:b,ceid:c,originalEvent:a})})},f.prototype.createFieldsDataset=
function(a){var b=a.component;a=b.getLayout().getInputs();var c={};b.getParent();var d=b.get("value");(b=b.get("id"))&&d&&(c[b]={getter:function(){return d}});R8.each(a,function(a,b){c[b]=a});var e={};R8.each(c,function(a,b){b&&(e[b]=a.getter())});return{info:{},items:[e]}},f.prototype.triggerBehaviorEvents=function(a){var b=this,c=a.component,d=a.event,e=c.get("behavior_events");e&&0!=e.length&&(console.log("triggerBehaviorEvents["+d+"]",e),R8.each(e,function(a,g){if(a.data&&a.data.event==d)try{console.log("triggerBehaviorEvents._onBehaviorHandler_",
e),R8.callIfExists(b,"_onBehaviorHandler_"+a.type,{behavior:a,context:b,component:c})}catch(f){console.log("R8Context 'triggerBehaviorEvents': ",f)}}))},f.prototype.updateInputFieldsDataset=function(a){var b=a.component;a=this.createFieldsDataset(a);this.modifyDataset({id:"input_fields",dataset:a,action:"update",refresh_components:!0,component:b})},f.prototype.triggerEvent=function(a){a.component.getLayout().refreshEventSensitiveComponents({event_id:a.event})},f.prototype._onBehaviorHandler=function(a){var b=
a.component;a=a.originalEvent;var c=b.get("behavior");if(!c||!c.type||"nothing"==c.type)return!1;this.updateInputFieldsDataset({component:b});this.triggerBehaviorEvents({event:"before_click",component:b});try{var d=R8.callIfExists(this,"onBehaviorHandler",{behavior:c,context:this,component:b,originalEvent:a});if(d)return}catch(f){console.log("R8Context 'onBehaviorHandler': ",f)}try{var e=c.type;0==e.indexOf("service_")&&(e="service");if(d=R8.callIfExists(this,"_onBehaviorHandler_"+e,{behavior:c,context:this,
component:b,originalEvent:a}))return}catch(f){console.log("R8Context 'onBehaviorHandler': ",f)}this.triggerBehaviorEvents({event:"after_click",component:b});a.stopPropagation();return!1},f.prototype._onBehaviorHandler_open_url=function(a){var b=a.behavior,c=a.context,d=b.data.target;a=a.component.get("data-url");a||(a=b.data.url);a&&("new"==d?c.launchURL({target:"new_window",url:a}):"current"==d&&c.launchURL({target:"current_window",url:a}))},f.prototype._onBehaviorHandler_call=function(a){var b=
a.component,c=a.context;(a=a.behavior.data.value)||(a="${context.location.contact_info.phone}");if(a=b.renderTemplates({templates:{value:a}}).value)a=R8.toNumbers(a),c.launchURL({target:"current_location",url:"tel:"+a})},f.prototype._onBehaviorHandler_navigate=function(a){var b=a.component,c=a.context;a=a.behavior.data.value;var d=R8.getGeoLocation();d&&(a||(a="${context.location.address.address1} ${context.location.address.city} ${context.location.address.state}"),a=b.renderTemplates({templates:{value:a}}).value)&&
(b=d.lat+","+d.lng,/iPhone/i.test(navigator.userAgent)&&/AppleWebKit/i.test(navigator.userAgent)?c.launchURL({target:"new_window",url:"https://maps.apple.com/maps?saddr\x3d"+b+"\x26daddr\x3d"+a+"\x26f\x3dd"}):c.launchURL({target:"new_window",url:"https://maps.google.com?saddr\x3d"+b+"\x26daddr\x3d"+a+"\x26f\x3d"}))},f.prototype._onBehaviorHandler_change_field_value=function(a){var b=a.component;a=a.behavior;var c=a.data?a.data.field_id:null,d=a.data?a.data.value:null;if(c)try{d=b.renderTemplates({templates:{value:d}}).value,
b.addInput({id:c,getter:function(){return d}})}catch(e){console.log("_onBehaviorHandler_change_field_value",e)}},f.prototype._onBehaviorHandler_update_fields_dataset=function(a){var b=a.component,c=a.behavior;a=a.context;c=c.data?c.data.dataset_id:null;console.log("_onBehaviorHandler_update_fields_dataset",c);if(c)try{var d=this.createFieldsDataset({component:b});a.modifyDataset({id:c,dataset:d,action:"update",component:b})}catch(e){console.log("_onBehaviorHandler_update_fields_dataset",e)}},f.prototype._onBehaviorHandler_create_dataset_from_item=
function(a){var b=a.component,c=a.behavior;a=a.context;c=c.data?c.data.dataset_id:null;console.log("_onBehaviorHandler_create_dataset_from_item",c);if(c)try{if(console.log("create_dataset_from_item",b),null!=b.getData()){var d=R8.toCopy(b.getData());d.items=[d.item];delete d.item;a.modifyDataset({id:c,dataset:d,action:"update",component:b})}}catch(e){console.log("_onBehaviorHandler_create_dataset_from_item",e)}},f.prototype._onBehaviorHandler_append_input_fields_dataset=function(a){var b=a.component,
c=a.behavior;a=a.context;var d=c.data?c.data.source_dataset_id:null,c=c.data?c.data.dataset_id:null;console.log("_onBehaviorHandler_append_input_fields_dataset",c);if(c&&d)try{var e=this.createFieldsDataset({component:b}),f=null,g=null;0<e.items.length&&(f=e.items[0]);var l=b.getLayout().getDataset({id:d});l&&0<l.items.length&&(g=l.items[0]);f&&g&&R8.each(g,function(a,b){R8.hasValue(f[b])||(f[b]=a)});a.modifyDataset({id:c,dataset:e,action:"update",component:b})}catch(n){console.log("_onBehaviorHandler_append_input_fields_dataset",
n)}},f.prototype._onBehaviorHandler_clear_dataset=function(a){var b=a.component,c=a.behavior,d=a.context,e=c.data?c.data.dataset_id:null;console.log("_onBehaviorHandler_clear_dataset ["+e+"]",c,a);e?d.modifyDataset({id:e,dataset:null,action:"delete",component:b}):R8.each(this.datasets,function(a,c){0!=c.indexOf("#")&&(c=c.split("#")[1]);d.modifyDataset({id:c,dataset:null,action:"delete",component:b})})},f.prototype.getServiceStatus=function(a){a=a||{};var b=[];a.source_id||R8.each(this.servicesInProcess,
function(a,d){b.push({service:d})});return b},f.prototype._onBehaviorHandler_service=function(a){var b=a.behavior;E({component:a.component,service_name:b.data.service_name,dataset_id_failed:b.data.dataset_id_failed,dataset_id_success:b.data.dataset_id_success})},f.prototype._onDatasetReaderHandler_read_dataset_url=function(a){var b=this,c=a.component,d=a.datasetReader,e=a.callback,f=c.getLayout().getContext(),g=c.get("id");a=d.data.dataset_url;var l=d.data.url_method||"GET",n=d.data.filter_script;
a=c.renderTemplates({templates:{url:a}}).url;var m={context:f,items:null,format:null},d={url:a,method:l,content:"",callback:function(a){console.log("TRACK read_dataset_url - END");delete b.servicesInProcess.read_dataset_url;b.triggerEvent({event:"event_service_process",component:c});if(a.success){var d={info:{success:a.success},items:[]},l=!1;if(!R8.isBlank(n))try{m.data=a.data,eval("(function(filter){try{"+n+"}catch(e){}})(filter);"),m.items&&m.format&&(R8.each(m.items,function(a,b){var c=m.format(a);
d.items.push(c)}),l=!0)}catch(p){}l||(void 0==a.data.length?d.items.push(a.data):d.items=a.data);f.modifyDataset({id:g+"_failed",dataset:null,action:"delete",component:c});f.modifyDataset({id:g,dataset:d,action:"update",component:c})}else d={info:{},items:[]},f.modifyDataset({id:g+"_failed",dataset:d,action:"update",component:c}),f.modifyDataset({id:g,dataset:null,action:"delete",component:c});e&&e()}};console.log("TRACK read_dataset_url - START");b.servicesInProcess.read_dataset_url={running:!0,
source_id:c.get("id")};b.triggerEvent({event:"event_service_process",component:c});R8.sendRequest(d)},f.prototype._onDatasetReaderHandler_service=function(a){var b=a.component;a=a.callback;E({component:b,service_name:behavior.data.service_name,dataset_id_failed:b.get("id")+"_failed",dataset_id_success:b.get("id"),callback:a})},f.prototype.refreshLayout=function(a){var b=a.component;a=a.onlyComponent;var c=b.getLayout();a?b.render():c.render()},f.prototype.getVariable=function(a){a=a||{};return a.layout_id?
this.localContext[a.layout_id+"#"+a.id]:this.publicContext[a.id]},f.prototype.getVariable=function(a){return a?this.publicContext[a]:null},f.prototype.refreshContext=function(a){this._onRefreshHandler&&this._onRefreshHandler({context:this,callback:a.callback})},f.prototype._onHandleContextEvents=function(a){},f.prototype.setVariables=function(a){var b=this.publicContext;if(a)for(var c in a)b[c]=a[c]},f.prototype.compileTemplates=function(a){a=a.templates;var b={};if(!a)return b;try{return R8.each(a,
function(a,d){b[d]=R8.compileTemplate({content:a,throwExceptions:!1})}),b}catch(c){if(this.throwTemplateErrors)throw c;}},f.prototype.renderTemplates=function(a){var b=this,c=a.templates;a=a.component;var d=R8.hasValue(a)?a.getLayout():null,e={};if(!c)return e;var f={context:{}},g;for(g in b.publicContext)f.context[g]=b.publicContext[g];a&&(g=a.getData(),f.context.data=g);f.context.datasets=function(a,c){var e=null,e=d?d.getDataset({id:a}):b.getDataset({id:a});c||(c="first");return e&&0<e.items.length&&
"first"==c?e.items[0]:{}};try{R8.each(c,function(a,c){b.disableTemplates?e[c]=a:"string"===typeof a?-1==a.indexOf("${")?e[c]=a:e[c]=R8.renderTemplate({content:a,model:f,throwExceptions:!1}):e[c]=R8.renderTemplate({template:a,model:f,throwExceptions:!1})})}catch(l){if(b.throwTemplateErrors)throw l;}return e},f.prototype.buildComponents=function(a){var b=a.componentDefinition,c=a.namespace,d=a.callback;this.windowContext=a.windowContext||this.windowContext;this.documentContext=a.documentContext||this.documentContext;
a=this.newLayout({element_id:a.element_id,componentDefinition:b,namespace:c});d&&d({layout:a})},p(v),v.prototype.onPreRender=function(a){var b=a.callback,c=this.get("dataset_reader"),d=this.getLayout().getContext(),e=this.get("id");a=a.renderable;console.log("[CC:DATASET] PRE-RENDER ",e,a);if(!a)c&&c.type&&R8.hasValue(e)&&(d.modifyDataset({id:e+"_failed",dataset:null,action:"delete",component:this,silent:!1}),d.modifyDataset({id:e,dataset:null,action:"delete",component:this,silent:!1}));else if(c&&
c.type&&R8.hasValue(e)){d.modifyDataset({id:e+"_failed",dataset:null,action:"delete",component:this,silent:!0});d.modifyDataset({id:e,dataset:null,action:"delete",component:this,silent:!0});try{var f=c.type;0==f.indexOf("service_")&&(f="service");R8.callIfExists(d,"_onDatasetReaderHandler_"+f,{datasetReader:c,context:d,component:this,callback:b})}catch(g){console.log("R8Context 'onDatasetReaderHandler': ",g)}}},v.prototype.onRender=function(){console.log("[CC:DATASET] RENDING....")},p(F),F.prototype.onRender=
function(){var a=this.getContext(),b=this.element,c=this.type;b.classList.add("r8cc-element-"+this.namespace);b.classList.add("r8cc-element");b.classList.add("r8cc-element-"+c);b.classList.add("r8cc-align-"+this.get("align"));b.classList.add("r8cc-width-"+this.get("width"));b.classList.add("r8cc-style-"+this.get("style"));a=a.createDocumentElement({type:"div"});a.classList.add("r8cc-core-"+this.get("type"));a.innerHTML=this.renderTemplates({templates:{label:this.get("label")}}).label;b.appendChild(a);
console.log("BUTTON",b,this.renderTemplates({templates:{label:this.get("label")}}).label);q({element:a,component:this});b=this.get("id");c=this.get("value");b&&c&&this.set("value",this.renderTemplates({templates:{value:c}}).value);r({component:this});this.addBehavior({source:a,event:"click"})},p(G),G.prototype.onRender=function(){P(this)},p(H),H.prototype.onRender=function(){var a=this.getContext(),b=this.type,c=this.element;c.classList.add("r8cc-element-"+this.namspace);c.classList.add("r8cc-element");
c.classList.add("r8cc-element-"+b);a=a.createDocumentElement({type:"div"});a.classList.add("r8cc-core-"+b);a.innerHTML=this.renderTemplates({templates:{text:this.get("text")}}).text;q({targetSizeElement:a,element:c,component:this});(b=this.get("text_overflow"))&&c.classList.add("r8cc-text-overflow-"+b);c.appendChild(a)},p(I),I.prototype.onRender=function(){var a=this.getContext(),b=this.element;b.classList.add("r8cc-element-"+this.namespace);b.classList.add("r8cc-element");b.classList.add("r8cc-element-text");
q({element:b,component:this});a=a.createDocumentElement({type:"div"});a.classList.add("r8cc-core-text");a.innerHTML=this.renderTemplates({templates:{richtext:this.get("richtext")}}).richtext;b.appendChild(a)},p(J),J.prototype.onRender=function(){var a=this.getContext(),b=this.type,c=this.element;c.classList.add("r8cc-element-"+this.namspace);c.classList.add("r8cc-element");c.classList.add("r8cc-element-"+b);var d=this.renderTemplates({templates:{html:this.get("html_code")}}).html;if(d){var e=a.createDocumentElement({type:"div"});
e.classList.add("r8cc-core-"+b);e.innerHTML=d;q({targetSizeElement:e,element:c,component:this});c.appendChild(e)}if(b=this.get("script_code"))a=a.createDocumentElement({type:"script"}),a.type="text/javascript",a.async=!0,a.text=b,c.appendChild(a)},p(K),K.prototype.onRender=function(){var a=this.getContext(),b=this.type,c=this.element;c.classList.add("r8cc-element-"+this.namespace);c.classList.add("r8cc-element");c.classList.add("r8cc-element-"+b);q({element:c,component:this});y({element:c,component:this});
a=a.createDocumentElement({type:"img"});a.classList.add("r8cc-core-image");"fit"==this.get("style_width")&&a.setAttribute("style","width:"+this.get("image_width")+"px;height:"+this.get("image_height")+"px;");b=this.renderTemplates({templates:{url:this.get("image_url")}}).url;a.src=b;c.appendChild(a);r({component:this});this.addBehavior({source:a,event:"click"})},p(L),L.prototype.onRender=function(){Q(this)},p(M),M.prototype.onRender=function(){this.getContext();var a=this.getNamespace(),b=this.type,
c=this.element;c.classList.add("r8cc-element-"+a);c.classList.add("r8cc-element-"+b);c.classList.add("r8cc-element-canvas");c.classList.add("r8cc-element");q({element:c,component:this});this.renderChildren();r({component:this});this.addBehavior({source:c,event:"click"})},p(N),N.prototype.onRender=function(){this.getContext();var a=this.getNamespace(),b=this.type,c=this.element;c.classList.add("r8cc-element-"+a);c.classList.add("r8cc-element-"+b);c.classList.add("r8cc-element-canvas");c.classList.add("r8cc-element");
c.classList.add("r8cc-align-"+this.get("align"));c.classList.add("r8cc-width-"+this.get("width"));c.classList.add("r8cc-top-margin-"+this.get("top_margin"));c.classList.add("r8cc-left-margin-"+this.get("left_margin"));c.classList.add("r8cc-style-"+this.get("style"));this.get("background_image_url")&&(c.style.backgroundImage="url('"+this.get("background_image_url")+"')",c.style.backgroundSize="cover");this.renderChildren();r({component:this});this.addBehavior({source:c,event:"click"})},p(u),u.prototype.onPreRender=
function(a){this.hideScene({renderable:a.renderable,callback:a.callback})},u.prototype.hideScene=function(a){var b=this,c=a.callback,d=b.get("style"),e=b.get("shown",!1);b.element&&(console.log("TRACK hideScene["+e+"]["+a.renderable+"]",this),a=function(){b.element.scrollTop=0;b.clearRender();c&&c()},e?(b.element.classList.add("r8cc-style-"+d+"-hide"),b.set("shown",!1),setTimeout(a,400)):a())},u.prototype.onRender=function(){console.log("TRACK scene onRender",this);this.getContext();this.getLayout();
var a=this.getNamespace(),b=this.type,c=this.element;this.get("id");var d=this.get("style"),e=-1<d.indexOf("overlay-");c.classList.add("r8cc-element-"+a);c.classList.add("r8cc-element");c.classList.add("r8cc-element-"+b);e&&c.classList.add("r8cc-style-overlay");q({element:c,component:this});this.get("background_image_url")&&(c.style.backgroundImage="url('"+this.get("background_image_url")+"')",c.style.backgroundSize="cover");this.renderChildren();r({component:this});this.addBehavior({source:c,event:"click"});
c.classList.remove("r8cc-style-"+d+"-hide");c.classList.add("r8cc-style-"+d+"-show");this.set("shown",!0)},p(w),w.prototype.onRender=function(){this.getContext();var a=this.type,b=this.element;b.classList.add("r8cc-element-"+this.namespace);b.classList.add("r8cc-element");b.classList.add("r8cc-element-"+a);q({element:b,component:this});y({element:b,component:this});r({component:this});this.addBehavior({source:b,event:"click"});this.renderChildren()},w.prototype.onPreRender=function(a){a=a.callback;
this.clearRender();a()},p(x),x.prototype.attachToParent=function(a){var b=this.get("style");R8.hasValue(b)||(b="");R8.getValue(a)||console.log("attachToParent MAJOR BUG - MISSING PARENT");var c=0==b.indexOf("row-")?"row":"col";if("row"==c){var d=this.getPrimaryComponent();null==d?(b=b.replace(c+"-",""),this.parentElement=this.getContext().createDocumentElement({type:"div"}),this.parentElement.classList.add("r8cc-element-grid-row-container"),-1<b.indexOf("wrap")&&this.parentElement.classList.add("r8cc-element-grid-row-container-wrap"),
this.parentElement=a.appendChild(this.parentElement),this.parentElement.appendChild(this.element)):d.parentElement.appendChild(this.element)}else this.parentElement=a,this.parentElement.appendChild(this.element)},x.prototype.onRender=function(){R(this)},t.Context=new D):console.log("Scope Missing For R8Context")})(window.R8);

